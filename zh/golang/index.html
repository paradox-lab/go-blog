<!doctype html><html lang=zh class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.101.0"><meta name=description content><meta name=author content="蝉时雨丶"><link rel=icon href=/go-blog/images/favicon.png type=image/png><title>Golang :: Hugo 主题的 Learn 文档</title><link href=/go-blog/css/nucleus.css?1656565398 rel=stylesheet><link href=/go-blog/css/fontawesome-all.min.css?1656565398 rel=stylesheet><link href=/go-blog/css/hybrid.css?1656565398 rel=stylesheet><link href=/go-blog/css/featherlight.min.css?1656565398 rel=stylesheet><link href=/go-blog/css/perfect-scrollbar.min.css?1656565398 rel=stylesheet><link href=/go-blog/css/auto-complete.css?1656565398 rel=stylesheet><link href=/go-blog/css/atom-one-dark-reasonable.css?1656565398 rel=stylesheet><link href=/go-blog/css/theme.css?1656565398 rel=stylesheet><link href=/go-blog/css/tabs.css?1656565398 rel=stylesheet><link href=/go-blog/css/hugo-theme.css?1656565398 rel=stylesheet><link href=/go-blog/css/theme-blue.css?1656565398 rel=stylesheet><script src=/go-blog/js/jquery-3.3.1.min.js?1656565398></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/go-blog/zh/golang/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/zh><svg id="grav-logo" style="width:100%;height:100%" viewBox="0 0 504 140" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421"><path id="path189" style="fill:#000;stroke-width:.204716" d="m82.052734 5.96875c-.854728.206286-1.398833 1.0426648-2.119991 1.5136522-1.191736.9811717-2.382712 1.9632671-3.575321 2.9433788 2.594183.350428 5.145702.867699 7.545412 1.808313 5.15394 2.088262 10.087847 4.726839 15.416602 6.374822 1.147804.40744 2.285264.842546 3.422754 1.277803 1.75942-1.384373 3.51938-2.768062 5.27734-4.154297-5.15508-1.970902-10.472419-3.533913-15.466989-5.9135627-3.304489-1.4459104-6.569291-3.1504213-10.136525-3.8383905-.121039-.00522-.24197-.024031-.363282-.011719z"/><path id="path450" style="fill:#000;stroke-width:.204716" d="m196.30273 32.138672c-1.55372 1.106817-3.11032 2.209608-4.66406 3.316406 4.11763 4.405283 7.13993 9.726972 9.45954 15.262663 1.56282 4.287959 2.2182 8.808703 2.86451 13.292499.38887 3.231143.62551 6.590222.0466 9.712715-.96049 4.643178-2.51468 9.199787-4.84902 13.336481-1.78789 2.835013-4.77216 5.01731-8.11326 5.529767-2.16053.194334-4.25815-1.330295-4.80458-3.419166-.29054-.914485-.51906-1.850946-.67999-2.79699 2.1261-1.148168 4.25191-2.296867 6.37891-3.443359.78567-2.636208 1.75001-5.564844.60547-8.248047-.53525-1.298746-2.07776-1.892115-3.39901-1.607978-1.67519.02941-3.3829.406643-4.74129 1.430853-2.09614 1.168313-4.10099 2.916619-4.64291 5.358765-.73735 2.904669-.11138 5.915639.29727 8.820042.49411 2.882218 1.53935 5.996824 4.13517 7.643151 2.35305 1.561098 5.48511 1.763546 8.04109.579307 3.30354-1.331591 6.21912-3.456703 8.96703-5.688008 1.96663-1.643363 3.42478-3.806368 4.42597-6.15213 2.06828-4.393527 3.59057-9.083525 4.21247-13.907794.54472-5.741127-.61574-11.455157-1.66588-17.071718-.80064-3.920321-2.18078-7.71884-4.16423-11.197019-2.05596-3.912809-4.48616-7.631847-7.30162-11.041456-.13607.097-.27214.194011-.40821.291016zm-8.92578 46.195312c.2043 1.815935-.60122 3.548925-1.07929 5.263081-.26336.819832-.52694 1.639598-.78985 2.459576-.30945-2.140868-.59564-4.349894-.22997-6.496983.18103-.524926.30215-1.38075 1.03046-1.299978.29126.03359 1.0366-.341949 1.06865.0743z"/><path id="path452" style="fill:#000;stroke-width:.204716" d="m194.86719 31.490234c-1.70711 1.334537-3.41328 2.670271-5.1211 4.003907 2.86943.883205 5.775 2.063806 7.95683 4.093286 4.34216 3.834897 7.82362 8.740548 9.94201 14.191942 1.76448 4.476901 2.8312 9.131581 3.98461 13.784118.98733 4.367667 1.90544 8.806141 3.88594 12.856576 1.24292 2.622586 2.70301 5.245971 5.0027 7.092602 2.86039 2.399492 6.23621 4.055842 9.38886 6.021597 2.04982 1.173006 4.12056 2.42864 6.39784 3.079398 1.45651.10626 2.44267-1.215991 3.58737-1.828292.94383-.603205 1.48969-1.756053 1.1938-2.859996-.26262-3.334359-1.79835-6.420037-2.55184-9.603237-1.082-3.641846-2.12776-7.319367-2.61203-11.103361-1.00164-5.999038-1.25683-12.026556-1.07049-18.099458.15781-3.468309.76516-7.086829 1.79952-10.394254.64699-1.974316 1.63337-3.824169 2.48746-5.7485 1.81963 1.486138 2.86594 3.671816 3.9004 5.728955.64108 1.500012.97375 3.161278.76757 4.790577-.65333-.253181-1.39605-.122429-1.84271.440021-1.42475 1.127514-2.85059 2.25365-4.27448 3.382244 1.88905.912209 4.07218 1.774111 6.16993 1.046875 1.41721-.500184 2.61209-1.460186 3.82031-2.322265 1.61109-1.433166 2.12717-3.722659 1.84286-5.796283-.25541-3.407249-2.01838-6.471843-3.90241-9.234739-1.20503-1.564932-2.69095-3.179269-4.68989-3.629264-2.29359-.240154-4.23277 1.369272-5.7447 2.892708-1.43661 2.020458-2.19043 4.395461-3.26252 6.599693-1.49815 3.623296-2.20417 7.528274-2.57907 11.414395-.28341 3.951365-.19329 7.924341.002 11.877608.33001 4.919807.95661 9.833736 2.05577 14.642753.86678 3.567725 1.99782 7.062219 3.05361 10.576879-3.15033-1.782655-6.31477-3.575686-9.24095-5.712379-2.79226-2.230651-4.33102-5.569215-5.59547-8.821527-1.43467-3.856976-2.08138-7.93959-3.1517-11.901307-1.2033-4.621024-2.39596-9.284022-4.32968-13.665113-2.65871-5.844039-6.70058-11.067953-11.71736-15.073502-1.61991-1.219808-3.40929-2.21157-5.31445-2.910157-.0794.0625-.15886.125-.23828.1875z"/><path id="path454" style="fill:#000;stroke-width:.204716" d="m254.32422 60.896484c-2.83006.191036-5.03358 2.200857-7.25961 3.693573-2.47583 1.745762-4.35875 4.322203-5.13274 7.262544-.87682 3.10457-.8925 6.386041-.66333 9.580213.28103 2.760325 1.40168 5.413874 3.21193 7.520311 1.70594 2.226415 3.96523 4.02624 6.58223 5.060539 1.96205.825143 4.24546 1.477142 6.30644.60157.53052-.223408-.579.488221-.79955.696267-3.55669 2.717013-6.96075 5.643309-10.03806 8.898339-3.00732 3.02489-5.58812 6.54712-7.09012 10.56555-1.52988 3.64022-2.18897 7.75831-1.16537 11.62585 1.1817 4.89934 4.89376 9.02479 9.55065 10.89607 3.31904 1.41685 6.8989 2.15208 10.47421 2.53862 1.33062.14817 2.74633-.0804 3.79142-.97127 1.26107-.73033 2.85276-1.49217 3.09455-3.10504.98221-4.40417.4144-8.94054.57187-13.40766.0559-9.78704-.13373-19.58303.15814-29.363921.22294-.322518.70593-.47792.98565-.786323 3.15772-2.482196 6.24325-5.094621 9.44181-7.481219.59962-.562387 1.37371-1.333493 1.12122-2.214688-.58838-1.019752-1.9005-.72381-2.80832-.393333-1.78507.665067-3.47142 1.597264-4.9082 2.856236-1.27226.954663-2.48458 2.004466-3.71388 2.992226.0582-1.808273-.2238-3.702052.46966-5.419967 1.29511-4.12273 1.38265-8.583115.37497-12.777365-.40543-2.092479-.5444-4.224875-.57901-6.349544-.12138-1.041696-1.27545-1.792292-2.25563-1.339589-.44131.07748-.73882.621708-1.12056.653678-2.66594-1.25476-5.64308-1.684906-8.56131-1.835573zm.33203 5.285157c2.01725.246306 4.08801.70676 5.74023 1.958984.49385-.198426.10745 1.069897.2356 1.480834.0141 5.004454.0397 10.022836-.26491 15.015164-.54725 1.610021-1.37948 3.119937-2.27537 4.560643-.29357.413619-.64502.972024-1.23854.753886-2.97677-.555212-5.7871-2.226129-7.55638-4.708964-1.73668-1.945495-2.4821-4.544038-2.47151-7.147851-.0102-2.492946.0306-4.99488.91085-7.343489.73261-1.875515 1.96563-3.730677 3.8265-4.614744 1.01134-.351459 2.06471-.0229 3.09353.04554zm5.48437 34.769529c-.0724 10.74931.0496 21.50087-.0827 32.24888-.0316.50518-.0784 1.00973-.14971 1.51089-3.6299-.36444-7.17132-1.2816-10.41387-2.97137-3.31505-1.88151-5.62981-5.38503-6.00686-9.18451-.34732-2.69647.25495-5.42026 1.34629-7.88372 1.31942-3.35117 3.42797-6.40619 5.95909-8.88755 2.88063-3.07638 6.02153-5.910197 9.37903-8.457618-.0104 1.208333-.0208 2.416667-.0313 3.624998z"/><path id="path456" style="fill:#000;stroke-width:.204716" d="m286.45117 62.744141c-.66276.0108-1.0893.579612-1.58984.919921-2.93216-.416883-6.1457-.03654-8.52713 1.859521-1.32775.839426-2.71795 1.775792-3.34291 3.285064-1.96619 3.59837-2.81372 7.799977-2.48463 11.879219.58618 4.391569 3.77417 8.360576 8.02068 9.714478 3.09823 1.057475 6.42957 1.208399 9.67383 1.054687 2.00132-.177732 3.83824-1.164999 5.41409-2.288612 1.93792-1.221245 3.80495-2.745567 4.75664-4.887712 1.27631-2.582436 2.06687-5.395576 2.51547-8.233505.29359-2.654253-1.0275-5.228394-2.7852-7.132573-2.12288-2.207611-4.88968-3.643737-7.64514-4.897051-1.24663-.488298-2.51233-.998051-3.82059-1.270293-.0615.0067-.12392-.01566-.18527-.0031zm-.76172 5.544921c1.33874.466153 2.72682 1.108914 3.99146 1.820734 2.3343 1.241606 4.77095 2.977239 5.44214 5.689032.34285 2.011522-.5266 3.97606-1.06266 5.878051-.57623 1.593021-1.21802 3.351886-2.6703 4.347853-1.85437.702929-3.8863.346015-5.81627.291151-2.9267-.216886-6.09721-1.13898-7.8626-3.659801-1.58319-2.125298-1.94862-4.931501-1.41712-7.483183.34601-2.202505.95334-4.411407 2.16488-6.305711 1.72955-.549238 3.55003-.159042 5.2991.01258.58196.0145 1.07248-.33425 1.44114-.750866.16341.05339.32682.106771.49023.160156z"/><path id="path458" style="fill:#000;stroke-width:.204716" d="m312.22656 63.080078c-2.51287-.06687-4.65817 1.475076-6.57812 2.91211-2.04617 1.597902-3.36366 3.956301-3.96106 6.457589-.69758 2.785863-.78555 5.72098-.38894 8.557054.45501 2.562579 1.62143 5.141346 3.83069 6.648159 2.22165 1.784303 4.86213 3.031589 7.67199 3.533149 3.55108.707794 7.20025.635324 10.80301.591013 2.16637-.158142 4.39539-.452498 6.36267-1.410011 2.07587-1.747288 3.95151-3.712247 5.70312-5.78125-2.79921.445598-5.49844 1.330936-8.26339 1.923705-3.39336.425307-6.83433.249648-10.23012-.04257-3.24745-.407049-6.52917-1.646109-8.82841-4.041056-.87222-1.044913-1.21587-2.282305-1.45637-3.562052-.26964-2.262109-.13957-4.588823.36966-6.808958.33731-1.374369.93104-2.721367 1.91644-3.756179 2.37937-.429241 4.84399.104078 7.07813.939453 1.11063.442475 2.11782 1.117109 2.96875 1.955078 1.69271-1.222252 3.38676-2.442646 5.08008-3.664062-2.66632-2.652709-6.35737-4.016762-10.05096-4.376845-.67268-.08546-1.35003-.09118-2.02717-.07433z"/><path id="path460" style="fill:#000;stroke-width:.204716" d="m286.07422 99.496094c-1.07934-.0024-1.82247.939246-2.52539 1.519526-.851.70779-1.76177 1.34363-2.75 1.84571.10409 1.4247 1.00637 2.71545 2.30403 3.3049 1.0993.9205 2.58927 1.76482 4.04753 1.17752 1.90839-.57603 3.60529-2.60159 3.03127-4.66604-.24239-1.55382-1.36304-3.209315-3.09377-3.187476-.33817.0088-.67622-.02649-1.01367.0059z"/><path id="path464" style="fill:#000;stroke-width:.204716" d="m371.67188 20.626953c-3.87604 1.944717-7.75613 3.888659-11.47852 6.119141 1.10416-.0044 2.20833-.0089 3.3125-.01172-2.12786 4.917471-2.2546 10.388689-2.12305 15.660156.35129 5.01355 2.02586 9.810998 3.70363 14.509646 1.38866 3.777132 2.7827 7.452227 3.66164 11.3659.85336 3.402855 1.29928 6.910206 1.308 10.447135.0802 4.183874.21652 8.436832-.61619 12.533292-.82952 4.256594-2.10342 8.496467-4.44794 12.181686-1.27591 2.17814-2.95847 4.09056-4.92893 5.66614-1.4947 1.30394-3.28466 2.42294-5.1431 2.96612-2.39632.75818-4.8139.92992-7.31504.96576-1.38398-.001-2.76732-.6657-3.42811-1.91942-1.17952-1.92247-1.43828-4.29667-1.23452-6.50088-.072-.59683.49407-.45599.8906-.49906.4488-.0105 1.13089-.11797 1.17301.51024.41153 1.70485.26658 3.48863.31896 5.23047 71e-5.68229.002 1.36459.003 2.04688 1.90405-1.12478 3.80883-2.24831 5.7129-3.37305-.13258-2.7825.25622-5.8613-1.42774-8.28125-.9124-1.199373-2.54906-1.368673-3.94062-1.215946-1.58257-.05091-3.231.243516-4.50269 1.241586-2.01363 1.04845-3.69566 2.97113-3.89001 5.30511-.35901 2.56593.15031 5.20715 1.10217 7.59326 1.08182 2.48207 3.33319 4.66552 6.14699 4.84641 2.41571.25391 4.83773-.17138 7.23065-.45987 3.43975-.6249 6.46732-2.49346 9.27287-4.49033 3.70335-2.48113 7.17849-5.51773 9.32948-9.48525 2.76734-4.614072 4.23626-9.901741 4.96799-15.199902.5525-4.277499.36306-8.601147.27024-12.900272-.10538-3.360412-.59916-6.701988-1.5034-9.941147-1.01323-4.310005-2.61015-8.445066-4.11035-12.599558-1.15953-3.383432-2.2477-6.765931-2.76717-10.283458-.33024-3.191741-.23107-6.55122.089-9.779123.36915-3.275313 1.43804-6.518457 3.45986-9.153927.90985-1.339577 1.8197-2.679149 2.72974-4.018598-.60873.307943-1.21745.615885-1.82617.923828z"/><path id="path466" style="fill:#000;stroke-width:.204716" d="m378.41211 36.992188c-2.95498.280324-5.86099.959554-8.72191 1.726685-3.48706 1.125695-6.68165 3.068917-9.47059 5.423031-2.56647 2.52845-3.92486 5.941757-5.55982 9.083275-.82608 1.721803-1.65239 3.443491-2.47815 5.165446 2.4334-1.275762 4.86732-2.550527 7.30078-3.826172 1.48474-3.078592 2.82421-6.267576 5.04492-8.919922.37009-.484192 1.06101-.352533 1.4769-.805542.96403-.824462 2.26732-1.015047 3.43718-1.415431 2.16001-.556031 4.36494-1.020535 6.56444-1.321996 1.63608-.05267 2.81813 1.277896 3.61272 2.548816 1.61011 2.517063 2.53967 5.509476 2.17683 8.471365-.15926.806383-.30463 1.757669-.91027 2.335911-1.23529.812349-2.5271 1.570455-3.64881 2.53258-1.05465 1.010852-1.29014 2.99378.005 3.90959 1.10397.771221 2.48005.146732 3.46359-.520192 1.29018-.710688 2.43727-1.673469 3.63473-2.496494 3.70686-.791836 7.53625-.861897 11.30656-.662435 1.77784.291901 3.18039 1.611104 4.02392 3.142913 2.57898 3.825958 4.24413 8.148004 4.98248 12.705642.67022 3.616411 1.12179 7.379282.74216 11.014872-.34106 1.748258-.84725 3.691605-1.96926 5.175636-.96893.649595-2.1745.835524-3.28802 1.122337-2.6009.548228-5.39227.396336-7.7976-.803806-2.77349-1.192048-5.22531-3.0329-7.28016-5.233016-.3945-.779099-.90346-.07995-1.38135.226711-1.35242.977451-2.70594 1.953363-4.05756 2.931914 2.24054 2.398724 4.74359 4.601413 7.68825 6.093768 3.25183 1.841965 7.13161 2.665009 10.82624 1.922007 3.6294-.612513 7.11555-2.286566 9.77115-4.844758 1.96335-2.122487 2.68295-5.045637 3.19814-7.807952.3987-5.091629-.44666-10.18885-1.56074-15.141305-1.05935-4.233613-3.02767-8.207304-5.51137-11.780005-1.25317-1.797572-3.09833-3.242237-5.29091-3.639442-2.34828-.50242-4.76173-.155362-7.13833-.149969-1.48293.0791-2.96525.208398-4.43164.447266 1.1072-4.302368-.25828-8.87208-2.60303-12.520248-1.37932-2.074659-3.51292-4.084833-6.15674-4.09108z"/><path id="path468" style="fill:#000;stroke-width:.204716" d="m423.28906 62.134766c-1.63995.97054-3.28033 1.94036-4.92187 2.908203-.005 4.860224-.0554 9.74159.63518 14.564078.26451 3.642161-.0516 7.367269.98576 10.916826.42202 1.528949.57544 3.428854 2.02945 4.374565 1.67804 1.119853 3.85376.452608 5.42395-.533389 2.15482-1.410381 4.32474-2.885565 5.95208-4.915798 1.06489-1.237277 1.93975-2.619085 2.8603-3.962923-2.69521.780684-5.50568 1.495949-7.83152 3.126296-.73545.615066-1.29977 1.758673-2.3345 1.799485-.65265-2.346208-1.1458-4.764948-1.22309-7.213103-.001-3.183751-.28693-6.355244-.63761-9.516081-.28356-3.960842-.13171-8.020399-.13344-12.024722-.26823.158854-.53646.317708-.80469.476563z"/><path id="path470" style="fill:#000;stroke-width:.204716" d="m421.32422 50.556641c-1.07185.409354-1.82089 1.344889-2.78081 1.947169-.73001.555316-1.46029 1.110263-2.18989 1.666112 1.19469.615669 2.29216 1.471247 3.61328 1.802734-.0189 1.007812-.038 2.015621-.0566 3.023438 1.91341-1.124993 3.82781-2.248329 5.74023-3.375.0396-1.199558-.0142-2.413731.24219-3.587891-.0222-1.061754-1.27193-1.818341-2.21354-1.303916-.4361.07207-.95475.446837-1.31358.0097-.30768-.168724-.69727-.282971-1.04124-.182359z"/><path id="path474" style="fill:#000;stroke-width:.204716" d="m478.08398 8.6914062c-3.04434.14731-5.7197 1.8438508-8.10248 3.6007978-1.72765 1.357081-2.97442 3.250966-3.63815 5.337598-2.26887 6.050536-2.21342 12.612826-2.40727 18.981009-.15743 8.550261.61576 17.100356 1.57762 25.572923.191 1.852456.35825 3.707256.52146 5.56236-2.14353 4.328099-4.51967 8.591659-7.70401 12.250805-2.36409 2.930614-4.6741 5.893283-7.25693 8.60857-1.23948.310478-2.55965.07497-3.80664-.115235-2.07257-.364678-3.86782-1.59835-5.23261-3.16249-1.81027-2.033779-3.15103-4.509976-3.85346-7.138711-.58177-3.373649.71016-6.7518 2.34552-9.649041.48255-.732833.88067-1.621841 1.6468-2.092726 2.34007-.143427 4.64989.535834 6.77539 1.46875.99634-.283035 1.63883-1.177063 2.49285-1.713624.99586-.778422 1.99114-1.557572 2.98762-2.335204-3.46085-1.340304-7.09892-2.967477-10.89987-2.427405-2.11783.508015-3.79571 2.000439-5.52392 3.235425-2.68145 2.341808-4.00679 5.78142-5.09379 9.076745-.89502 3.13538-.75704 6.605691.71513 9.548105 1.7092 3.847785 4.41928 7.489981 8.28686 9.356697 2.33088 1.021718 4.95868 1.325034 7.47457 1.052229 2.3056-.511534 4.29585-1.953137 6.00586-3.52539 2.54674-2.587205 4.77423-5.461403 7.04935-8.278252 1.52223-1.934278 3.11838-3.823289 4.42135-5.917061.59397 4.795158.8271 9.581025.6875 14.417969.0867 1.188555-.17941 2.681701.89258 3.509766.8519.734443 2.1919.630446 2.95133-.187286.77818-.629943 1.39784-1.430245 2.18539-2.050996.33463-4.101681.12961-8.221072.17483-12.330182-.0958-2.588148-.18458-5.17999-.3428-7.763568-.3245-1.63234-.58546-3.442123.28436-4.958718.51754-.816296 1.63351-.855617 2.47541-1.136985 1.29347-.223993 2.66956-.428758 3.95583-.11448 1.70322.767865 2.36308 2.681045 3.25511 4.18284 2.45359 5.01299 2.5034 10.662947 3.45117 16.066406.39453 1.998924.93975 4.059017 2.15761 5.723926 1.20516 1.352908 3.27678 1.341194 4.82481.637402 4.38174-1.593728 8.19236-4.35232 12.07422-6.859375 1.31644-.900078 2.96011-1.738505 3.51562-3.339844.18957-1.049313-1.14649-1.612884-1.96679-1.169922-.35611.233689-.66171.381595-1.10399.363009-2.26559.572321-3.99719 2.262336-6.02241 3.343699-2.07882 1.256166-4.16238 2.484729-6.55915 3.076496-.54459-.626324-.63649-1.53044-.94141-2.28711-.9522-3.598937-.99491-7.326699-1.76776-10.965895-.59128-3.450187-1.70586-6.83908-3.59788-9.802482-1.17173-2.100903-3.12486-4.124232-5.67959-4.213301-1.78692-.04961-3.60589.110612-5.3292.60205-.7058.211269-1.39123.486775-2.05525.805409 3.21714-7.057532 5.53801-14.470846 8.14459-21.764942 1.39013-3.996916 2.6535-8.095743 2.86422-12.350426.27986-3.961867.2851-7.946035.11578-11.911498-.22997-2.048169-.57126-4.334547-2.12459-5.8286024-1.48757-1.1781658-3.52717-.9718637-5.30079-.9902344zm-1.34765 5.0468748c.75756.100169 1.59662-.102993 2.29883.236328 1.20912 2.467702.83156 5.298741.93641 7.954687.0175 5.110463-.15302 10.311699-1.90356 15.185035-2.1116 6.637828-4.48624 13.179085-6.98769 19.684909-.22521.70112-.41136 1.033956-.41626.0992-.7906-7.151956-1.36504-14.321603-1.13549-21.539947.1018-5.837394.16128-11.671654 2.02378-17.234781.55964-1.515727 1.23048-3.250281 2.74843-4.035819.79358-.213639 1.61188-.339885 2.43555-.34961zm-4.6543 76.720703c.62866.420068-.45727 1.13443-.58012.305527-.23418-.244089.43497-.422407.58012-.305527z"/><path id="path476" style="fill:#000;stroke-width:.204716" d="m444.84375 25.214844c-1.64773.385233-3.25602 1.067363-4.67561 1.987852-2.04086 1.6493-3.49412 3.884237-5.29746 5.771289-2.66063 2.970824-5.68987 5.575842-8.77289 8.092454-.58007.602259-1.39502 1.328599-1.25795 2.242155.25323.910636 1.38471.929547 2.11011.630268 1.39615-.334178 2.69141-1.03155 3.91085-1.761623 4.12198-3.246933 7.92443-6.902681 11.24802-10.966954 1.09459-1.394037 2.48316-2.522459 3.55811-3.926379.59161-.629078.42113-1.908335-.5224-2.035859-.10001-.0081-.19903-.06601-.30078-.0332z"/><path id="path510" style="fill:#000;stroke:#000;stroke-width:.0832446" d="m156.66797 65.568359c-1.40281.04819-2.00876 2.164215-.79102 2.908203 1.10643.978518 2.94358-.355474 2.51367-1.714843-.18241-.751321-.9599-1.271376-1.72265-1.19336z"/><path id="path512" style="fill:#000;stroke:#000;stroke-width:.0832446" d="m156.66797 65.568359c-1.40281.04819-2.00876 2.164215-.79102 2.908203 1.10643.978518 2.94358-.355474 2.51367-1.714843-.18241-.751321-.9599-1.271376-1.72265-1.19336z"/><path id="path1432" style="fill:#000;stroke-width:.202157" d="m94.878906 30.269531c-2.287631.898028-4.703901 1.605195-6.807724 2.877579-4.485024 5.491989-6.611133 12.401509-8.442948 19.132856-1.605329 6.046121-2.840557 12.204453-4.985613 18.095796-2.771657 8.014773-6.035967 15.844748-10.868943 22.859542-1.749947 2.479612-3.601343 4.885482-5.392819 7.335006 2.85849-1.26468 5.716446-2.530574 8.574219-3.796872 6.610002-8.720957 10.691919-19.019319 14.096589-29.330787 2.790753-8.7136 4.127071-17.89265 7.79901-26.319883 1.235636-2.821633 2.900303-5.441874 4.898209-7.783699.952846-1.237371 1.905694-2.474742 2.858536-3.712116-.576172.214193-1.152344.428386-1.728516.642578z"/><path id="path1434" style="fill:#000;stroke-width:.202157" d="m93.257812 30.740234c-1.733368.858571-3.440196 1.845878-5.164062 2.751954.810252 5.34993 3.024219 10.347909 4.425405 15.521466 2.072478 6.784453 3.847313 13.681516 5.505429 20.598588 1.180239 4.908903 1.729165 9.94751 2.987136 14.836977.96649 3.670046 2.49394 7.275685 4.9564 10.198384.78807.844102 1.64803 1.682248 2.67836 2.213725.88334.191728 1.43837-.72189 2.17288-1.03501 1.14091-.744883 2.2825-1.48873 3.42283-2.234521-1.77857-1.19183-3.63718-2.460542-4.64263-4.417814-3.0829-4.597975-3.70366-10.234336-4.77902-15.52966-.8585-4.588927-2.03141-9.108024-3.16222-13.634617-.51284-2.223885-1.15403-4.419896-1.735477-6.627752-1.569505-5.662739-3.34325-11.323358-5.050111-16.90562-.517229-1.710922-.87143-3.482123-.92156-5.26735-.0439-.278108-.408679-.604452-.69336-.46875zm7.623048 27.275391c-.2376.743408-1.454441-.29859-.48492-.165475.15225.06679.66504-.188859.48492.165475z"/><path id="path1440" style="fill:#000;stroke-width:.202157" d="m93.693359 58.945312c-4.070097.13705-8.123695.652337-12.201562.568416-3.492748.01042-6.98542-.0175-10.478125-.02935-2.241288 1.678066-4.483664 3.354679-6.72461 5.033203 6.767011-.175815 13.540661.04814 20.304958-.196194 5.878883-.507678 11.806803-.677339 17.69857-.02042 1.78153.149956 3.55694.456984 5.32078.675666 1.05621-.117502 1.71027-1.096398 2.59049-1.591397 1.38565-1.016663 2.77006-2.035027 4.15747-3.049296-3.12468-.07048-6.17775-.620639-9.27187-.956016-3.16628-.218965-6.328998-.549518-9.507395-.458409-.629656-.01131-1.259141.01642-1.888706.0238z"/><path id="path1442" style="fill:#000;stroke-width:.202157" d="m137.80273 32.195312c-.71131-.02645-1.22365.533659-1.76757.896485-3.32296-.648355-6.5358.949258-9.31521 2.591857-4.13708 2.423361-8.39589 5.160194-10.8685 9.405801-2.81817 4.65217-3.70379 10.122397-4.38312 15.431557-.71678 4.62043-.63171 9.312129-.6621 13.974246-.17073 3.941542 1.22301 7.714025 2.78316 11.263402 1.47756 3.374971 2.98687 6.93403 5.78974 9.440876 2.60206 2.103977 5.98229 2.938743 9.26997 3.079382 3.01616.178255 6.04839.197489 9.0654.05924 3.25526-.352297 6.13656-2.210964 8.52083-4.353872 1.9125-1.802379 3.23536-4.122029 4.467-6.415823 1.96654-3.819715 2.97141-8.06343 3.32178-12.327816.63197-6.298061.53467-12.640058.51157-18.961602-.31286-6.555578-3.34059-12.6311-7.00772-17.94516-1.36398-2.116257-3.08084-4.117768-5.41961-5.176398-1.33498-.643965-2.82253-.990471-4.30562-.962179zm.92969 5.699219c2.47608 1.49523 3.89223 4.131017 5.42803 6.481762 2.3619 3.875065 4.21223 8.273459 4.57393 12.778004.10946 3.540014.0754 7.199129.0226 10.786117-.13267 4.59801-.30727 9.207498-1.382 13.719742-.93846 3.818379-2.73823 7.354917-5.25828 10.371228-.54974.799923-1.41776 1.322856-2.39992 1.343616-2.75225.198886-5.52039.102639-8.2763.011-2.77568-.07296-5.73025-.633233-7.86708-2.529377-2.10928-2.179327-3.28872-5.047642-4.51317-7.774861-1.11282-2.692425-2.33357-5.39614-2.44851-8.361666-.14085-3.190521-.0674-6.390597.0562-9.581427.14975-3.270265.65943-6.610104 1.17386-9.878406.69163-3.869378 1.85813-7.786775 4.2574-10.998784 1.95471-2.475077 4.54847-4.446958 7.40796-5.758508 1.93693-.843915 4.24175-.844849 6.06259.206969.44889.199604.90067.715415 1.31312.18647.57632-.317847 1.12482-.8901 1.71804-1.053332l.0931.03644z"/><path id="path2471" style="fill:#000;stroke-width:.202157" d="m19.875-1.1464844c-2.467326.20038379-4.416995 1.8977635-6.465485 3.1000412-2.092157 1.6351412-3.347691 4.0900298-4.3407045 6.4976497-1.162515 3.0913185-1.9649042 6.3534035-2.1332636 9.6581685-.020817 3.848753 1.14656 7.564265 2.0214843 11.275391.9423091 3.535474 1.9990858 7.038851 3.0273438 10.550781-3.558475 2.085762-7.2987095 4.432847-9.2179466 8.23808-1.91058832 3.644811-3.22225643 7.686999-3.32760678 11.823119.0280441 1.872592 1.03030634 3.785445 2.80262948 4.546582 2.8585542 1.517064 6.1649538 1.732272 9.3167369 2.130179 2.211118.216219 4.432631.329845 6.654703.314774.344948 5.553728.702102 11.179714-.130052 16.708708-.113818.436681-.01061 1.276409-.671293.840427-3.346086-.889374-7.010389-.937983-10.2533429.368834-1.4220886.706309-2.8423797 1.439918-4.1587002 2.330061-1.4833855 1.011485-2.50642305 2.816075-2.15738584 4.639764.27670544 1.50483.83204454 2.946746 1.31812824 4.392702 1.0029707 2.447538 2.6634652 4.859863 5.174811 5.915053 1.664462.60635 3.4565307-.0423 4.8542497-.98599 2.199044-1.234 4.187541-2.882528 5.579001-5.004834 1.075465-1.478272 2.02244-3.044267 2.962162-4.610975 3.73972 1.912958 7.639363 3.750579 11.866027 4.220964 5.229014.819247 10.534141 1.238137 15.827896 1.103707 4.609822-.188519 9.320543-1.100025 13.28447-3.57145 2.628989-1.435801 5.127933-3.288571 6.707934-5.886007 2.551407-3.93756 3.549201-8.680994 3.793283-13.30966.08651-4.065033-.232752-8.209911-1.679065-12.044616-1.683663-4.622633-4.346852-8.915431-7.956449-12.282379-4.78356-4.628438-10.902243-7.535639-17.076681-9.825795-7.576235-2.890711-15.799324-3.887274-23.870477-3.415234-1.45148.184805-2.908547.38467-4.31686.793673-1.772122-6.15093-3.742629-12.328265-4.585432-18.662232-.243926-3.049717.472069-6.06426 1.365298-8.9933226.743461-2.0621443 1.62728-4.2323716 3.323377-5.6960226.804625-.5857958 1.775496.026879 2.575239.3129153.608663.2214678 1.178371.9384883.681754 1.546329-.687235 1.1336659-1.997566 1.6924602-2.676648 2.8375411-.420302.6993466-1.297068 1.3490728-.984369 2.2680738.448857.947951 1.697752.638275 2.485067.36589 1.793577-.782484 3.519119-1.7891435 5.009073-3.0651091 1.372296-1.2711291 2.618085-3.140637 2.133059-5.0953206-.549199-2.41423932-3.002514-3.84881267-5.297121-4.2288982-.484264-.078-.974257-.1160508-1.464844-.1015625zm2.066406 42.4824224c5.853967-.03158 11.785551.546324 17.387283 2.30404 4.052566 1.30083 8.026984 2.903842 11.762369 4.951333 5.171419 2.854776 9.830438 7.20005 12.475348 12.525877 1.234364 2.513606 2.149442 5.042218 2.600007 7.830174.348285 2.619998.47256 5.234756.24345 7.882353-.425086 3.919758-1.452478 7.980039-4.029004 11.066769-.637384.750619-1.422851 1.348609-2.123047 2.027344-3.417276 1.602835-7.25638 2.104568-11.001905 2.182687-4.985171.02644-9.943714-.403025-14.861623-1.232555-3.16245-.549877-6.092862-1.904429-8.944116-3.320687-.838298-.398379-1.679269-.793986-2.540012-1.141164 1.812739-5.97312 1.288897-12.293939 1.067125-18.439473.08478-.454615-.401074-1.38791.322921-1.299128 3.346957-.366107 6.725447-.875339 9.86123-2.155826 2.572518-.853242 5.295532-1.091423 7.965567-1.478959.642141-.03087 1.250964-.146033 1.697525-.648911 2.229063-1.713274 4.457918-3.426817 6.687195-5.139812-4.945597.703564-9.950537 1.113255-14.814788 2.283884-1.61454.601637-3.200266 1.331198-4.929937 1.532373-2.392654.476772-4.818149.835899-7.265041.964993-.635149-6.333213-1.951949-12.621946-4.230469-18.576172-.181271-.560347-.446635-1.227831-.632812-1.841797 1.092247-.174855 2.197184-.257762 3.302734-.277343zm-8.710937 2.630859c1.73383 4.920162 3.416007 9.901736 4.097298 15.096077.154901 1.011684.293383 2.025855.410514 3.042595-3.639733-.157396-7.270674-.462804-10.7617185-1.548828-.916187-.285016-1.9318113-.99391-1.7441406-2.091797.067658-2.619841.815338-5.182345 1.7460937-7.615235 1.0452584-2.582819 2.7582053-5.072404 5.2017964-6.593561.355667-.148591.965967-1.118661 1.0366-.331886zM11.498047 88.84375c1.581425.113622 3.132072.488669 4.638672.970703-1.320122 2.612878-3.004131 5.040366-4.855469 7.300781-.497488.672024-1.249391-.0561-1.6745127-.424631-1.8941345-1.83007-2.544719-4.510543-3.0598623-6.995291.5756926-.538238 1.4988482-.576207 2.2554181-.731905.8912275-.117794 1.7976289-.18021 2.6957539-.119657z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/go-blog/js/lunr.min.js?1656565398></script>
<script type=text/javascript src=/go-blog/js/auto-complete.js?1656565398></script>
<script type=text/javascript>var baseurl="http://coderzh.github.io/go-blog/zh"</script><script type=text/javascript src=/go-blog/js/search.js?1656565398></script></div><section id=homelinks><ul><li><a class=padding href=/zh><i class='fas fa-home'></i> 家</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/go-blog/zh/testfy/ title=Testfy class=dd-item><a href=/go-blog/zh/testfy/>Testfy</a></li><li data-nav-id=/go-blog/zh/docker/ title=Docker class=dd-item><a href=/go-blog/zh/docker/>Docker</a><ul><li data-nav-id=/go-blog/zh/docker/gui/ title=在容器运行图形化软件 class=dd-item><a href=/go-blog/zh/docker/gui/>在容器运行图形化软件</a></li></ul></li><li data-nav-id=/go-blog/zh/golang/ title=Golang class="dd-item
active"><a href=/go-blog/zh/golang/>Golang</a><ul><li data-nav-id=/go-blog/zh/golang/faq/ title=Faq class=dd-item><a href=/go-blog/zh/golang/faq/>Faq</a></li><li data-nav-id=/go-blog/zh/golang/context/ title=Context class=dd-item><a href=/go-blog/zh/golang/context/>Context</a></li><li data-nav-id=/go-blog/zh/golang/interface/ title=interface class=dd-item><a href=/go-blog/zh/golang/interface/>interface</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/paradox-lab/go-blog><i class='fab fa-fw fa-github'></i> GitHub 仓库</a></li><li><a class=padding href=http://coderzh.github.io/zh/go-blog/showcase><i class='fas fa-fw fa-camera'></i> 展示区</a></li><li><a class=padding href=https://gohugo.io/><i class='fas fa-fw fa-bookmark'></i> Hugo 文档</a></li><li><a class=padding href=http://coderzh.github.io/zh/go-blog/credits><i class='fas fa-fw fa-bullhorn'></i> 鸣谢</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=zh value=http://coderzh.github.io/go-blog/zh/golang/ selected>简体中文</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/go-blog/zh/>Home</a> > Golang</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#包管理>包管理</a><ul><li><a href=#初始化>初始化</a></li><li><a href=#引用自定义包>引用自定义包</a></li><li><a href=#gomod>go.mod</a></li><li><a href=#go命令行>go命令行</a></li></ul></li><li><a href=#单元测试>单元测试</a><ul><li><a href=#测试函数运行子测试>测试函数运行子测试</a></li><li><a href=#并行测试>并行测试</a></li><li><a href=#设计模式>设计模式</a></li></ul></li><li><a href=#linux下载和安装>linux下载和安装</a></li><li><a href=#修改国内源>修改国内源</a></li><li><a href=#项目工程结构>项目工程结构</a></li></ul><ul><li><a href=#25个关键字>25个关键字</a><ul><li><a href=#chan信道>chan(信道)</a></li><li><a href=#else>else</a></li><li><a href=#goto>goto</a></li><li><a href=#if>if</a></li><li><a href=#struct>struct</a></li><li><a href=#switch>switch</a></li><li><a href=#select>select</a></li><li><a href=#type>type</a></li></ul></li><li><a href=#数据类型>数据类型</a><ul><li><a href=#复合数据类型>复合数据类型</a></li><li><a href=#类型转换>类型转换</a></li></ul></li><li><a href=#运算符>运算符</a><ul><li><a href=#算数运算符>算数运算符</a></li><li><a href=#关系运算符>关系运算符</a></li><li><a href=#逻辑运算符>逻辑运算符</a></li><li><a href=#位运算符>位运算符</a></li><li><a href=#赋值运算符>赋值运算符</a></li><li><a href=#指针运算符>指针运算符</a></li><li><a href=#运算符优先级>运算符优先级</a></li></ul></li><li><a href=#指针>指针</a><ul><li><a href=#声明指针>声明指针</a></li><li><a href=#空指针>空指针</a></li><li><a href=#使用指针>使用指针</a></li><li><a href=#指针的指针>指针的指针</a></li></ul></li></ul><ul><li><a href=#编译>编译</a><ul><li><a href=#windows编译linux可执行文件>Windows编译Linux可执行文件</a></li><li><a href=#编译为dll文件>编译为DLL文件</a></li></ul></li></ul><ul><li><a href=#日志>日志</a><ul><li><a href=#写入到文件>写入到文件</a></li><li><a href=#fatal和panic的区别>Fatal()和Panic()的区别</a></li></ul></li><li><a href=#单元测试-1>单元测试</a><ul><li><a href=#基准测试>基准测试</a></li><li><a href=#gomock>gomock</a></li></ul></li></ul><ul><li><a href=#执行路径问题>执行路径问题</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Golang</h1><h1 id=go>Go</h1><p><strong>github地址</strong> <a href=https://github.com/golang/go>https://github.com/golang/go</a></p><p><strong>Go参考</strong> <a href=https://golang.google.cn/ref/spec>https://golang.google.cn/ref/spec</a></p><p><strong>awesome-go</strong> <a href=https://github.com/avelino/awesome-go>https://github.com/avelino/awesome-go</a></p><p><strong>awesome-go中文版</strong> <a href=https://github.com/jobbole/awesome-go-cn>https://github.com/jobbole/awesome-go-cn</a></p><p><strong>在线跑代码</strong> <a href=https://goplay.tools/>https://goplay.tools/</a></p><p><strong>官网</strong> <a href=https://golang.google.cn/>https://golang.google.cn/</a></p><h2 id=包管理>包管理</h2><p><strong>wiki</strong> <a href=https://github.com/golang/go/wiki/Modules>https://github.com/golang/go/wiki/Modules</a></p><p>工程目录结构参考</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>go.mod
</span></span><span style=display:flex><span>go.sum
</span></span><span style=display:flex><span>repo\main.go
</span></span><span style=display:flex><span>     myPackage\myCode.go
</span></span><span style=display:flex><span>     util.go &#39;package repo
</span></span><span style=display:flex><span>     util_test.go
</span></span></code></pre></div><p>::: tip
每个包最多只能存在一个main.go文件
:::</p><hr><h3 id=初始化>初始化</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go mod init github.com/my/repo
</span></span></code></pre></div><p>如果不放远程仓库，可以省略仓库地址</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go mod init repo
</span></span></code></pre></div><p>自动增加模块依赖和sums</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go mod tidy
</span></span></code></pre></div><h3 id=引用自定义包>引用自定义包</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;repo/repo/myPackage&#34;</span>
</span></span></code></pre></div><h3 id=gomod>go.mod</h3><p>go.mod文件的4个关键字</p><ul><li>module语句指定包的名字（路径）</li><li>require语句指定的依赖项模块</li><li>replace语句可以替换依赖项模块</li><li>exclude语句可以忽略依赖项模块</li></ul><p>引入自定义包(不在项目内)</p><p>项目A引入自定义包B</p><p>A项目的main.go</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;B/core/management&#34;</span>
</span></span></code></pre></div><p>A项目的go.mod需要加入以下内容</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>require B v0.0.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>replace B =&gt; E:\godjan\B
</span></span></code></pre></div><p>::: tip
replace 改用相对路径也可以
:::</p><h3 id=go命令行>go命令行</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#a6e22e>generate</span>
</span></span></code></pre></div><p>使用go mod并安装go依赖包</p><h2 id=单元测试>单元测试</h2><p>:标准库单元测试学习进度: archive/tar/tar_test.go</p><hr><p>单元测试函数的定义一</p><ul><li>创建一个名称以 _test.go 结尾的文件</li><li>文件包含 <code>TestXxx</code> 函数</li></ul><p>单元测试函数的定义二</p><ul><li>package名以 _test 为结尾的文件</li><li>这个文件的函数</li></ul><p>例子: archive/tar/example_test.go</p><p>运行go test命令将运行编写好的单元测试函数</p><h3 id=测试函数运行子测试>测试函数运行子测试</h3><p>使用T.Run方法，参考例子: archive/tar/reader_test.go line:622</p><h3 id=并行测试>并行测试</h3><p>测试函数第一行加上 <code>t.Parallel()</code></p><p>使用案例: chromedp/eval_test.go的TestEvaluateNumber函数</p><hr><h3 id=设计模式>设计模式</h3><p>数据驱动测试，可参考 archive/tar/reader_test.go</p><h2 id=linux下载和安装>linux下载和安装</h2><blockquote><p>下载地址: <a href=https://golang.google.cn/doc/install>https://golang.google.cn/doc/install</a></p></blockquote><p><code>export PATH=$PATH:/usr/local/go/bin</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>假设是WSL的子系统使用Go，下载linux版Go安装包，接着按照教程做即可。
</span></span></code></pre></div><p><strong>升级</strong></p><blockquote><p>例如1.16.4升级1.16.5</p></blockquote><pre tabindex=0><code class=language-commandline data-lang=commandline>go get golang.org/dl/go1.16.5
go1.16.5 download
</code></pre><p>从16升级到17同理</p><blockquote><p>执行download命令时如果提示go1.16.5文件不存在，先切换至gopath变量的bin目录下执行</p></blockquote><h2 id=修改国内源>修改国内源</h2><p>windos</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>然后我们需要进行更改Go的GOPROXY值
</span></span><span style=display:flex><span>go env -w GOPROXY=https://goproxy.cn,direct
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>SETX来设置一下Windows的环境变量
</span></span><span style=display:flex><span>SETX GOPROXY=https://goproxy.cn,direct
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>接下来就可以正常使用了
</span></span><span style=display:flex><span>go get -v github.com/astaxie/beego
</span></span></code></pre></div><p>linux</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>$ export GOPROXY=https://goproxy.cn
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>或者
</span></span><span style=display:flex><span>$ echo &#34;export GO111MODULE=on&#34; &gt;&gt; ~/.profile
</span></span><span style=display:flex><span>$ echo &#34;export GOPROXY=https://goproxy.cn&#34; &gt;&gt; ~/.profile
</span></span><span style=display:flex><span>$ source ~/.profile
</span></span></code></pre></div><h2 id=项目工程结构>项目工程结构</h2><p>sample</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>README.md
</span></span><span style=display:flex><span>LICENSE
</span></span><span style=display:flex><span>go.mod
</span></span><span style=display:flex><span>go.sum
</span></span><span style=display:flex><span>main.go
</span></span><span style=display:flex><span>util.go &#39;package main
</span></span><span style=display:flex><span>util_test.go
</span></span><span style=display:flex><span>sample/sample.go &#39;package sample
</span></span><span style=display:flex><span>      /test_sample.go 
</span></span><span style=display:flex><span>      /other/main.go &#39;package main 可直接go run或者go build(go build后的可执行文件需要放置在go.mod所在目录下执行)
</span></span><span style=display:flex><span>                     
</span></span></code></pre></div><blockquote><p>执行:sample/other/main.go</p></blockquote><pre tabindex=0><code class=language-commandline data-lang=commandline>go run sample/other/main.go
</code></pre><h1 id=第一部分-语法基础>第一部分 语法基础</h1><h2 id=25个关键字>25个关键字</h2><h3 id=chan信道>chan(信道)</h3><blockquote><p>信道是带有类型的管道，你可以通过它用信道操作符 &lt;- 来发送或者接收值。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#a6e22e>ch</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>v</span>    <span style=color:#75715e>// 将 v 发送至信道 ch。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>ch</span>  <span style=color:#75715e>// 从 ch 接收值并赋予 v。
</span></span></span></code></pre></div><blockquote><p>“箭头”就是数据流的方向。</p></blockquote><p><strong>创建chan</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>// 双项通道，支持读写
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ch</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>// 单项通道，只能读
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ch_read</span> <span style=color:#f92672>&lt;-</span><span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 单项通道，只能写
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ch_write</span> <span style=color:#66d9ef>chan</span><span style=color:#f92672>&lt;-</span> <span style=color:#66d9ef>int</span>
</span></span></code></pre></div><blockquote><p>定义只读和只写的channel意义不大，一般用于在参数传递中</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>默认情况下，发送和接收操作在另一端准备好之前都会阻塞。
</span></span><span style=display:flex><span>这使得 Go 程可以在没有显式的锁或竞态变量的情况下进行同步。
</span></span></code></pre></div><p><strong>遍历chan</strong></p><blockquote><p>原文链接：https://blog.csdn.net/zhaominpro/article/details/77584534</p></blockquote><blockquote><p>读channel时，第二个值返回为false时表示channel被关闭。</p></blockquote><p>方法一:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>for</span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>value</span>,<span style=color:#a6e22e>ok</span><span style=color:#f92672>:=&lt;-</span><span style=color:#a6e22e>ch</span>;<span style=color:#a6e22e>ok</span>{
</span></span><span style=display:flex><span>        <span style=color:#75715e>//do somthing
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }<span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;<span style=color:#75715e>//表示channel已经被关闭，退出循环
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>方法二:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>//range
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ch</span><span style=color:#f92672>:=</span>make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span> ,<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>ch</span><span style=color:#f92672>&lt;-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ch</span><span style=color:#f92672>&lt;-</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ch</span><span style=color:#f92672>&lt;-</span><span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>:=</span><span style=color:#66d9ef>range</span> <span style=color:#a6e22e>ch</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Print</span>(<span style=color:#a6e22e>value</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//输出：123
</span></span></span><span style=display:flex><span><span style=color:#75715e>//然后会一直阻塞当前协程，如果在其他协程中调用了close(ch),那么就会跳出for range循环。这也就是for range的特别之处
</span></span></span></code></pre></div><h3 id=else>else</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span>   <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>age</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>18</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;成年人&#34;</span>)
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;未成年&#34;</span>)
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><h3 id=goto>goto</h3><blockquote><p>将控制转移到被标记的语句</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>C</span>, <span style=color:#a6e22e>c</span> <span style=color:#66d9ef>int</span> <span style=color:#75715e>//声明变量
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>C</span> = <span style=color:#ae81ff>1</span>        <span style=color:#75715e>/*这里不写入for循环是因为for语句执行之初会将C的值变为1，当goto A时for
</span></span></span><span style=display:flex><span><span style=color:#75715e>	语句会重新执行（不是重新一轮循环） */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>LOOP</span>:
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>c</span> &lt; <span style=color:#ae81ff>50</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>C</span><span style=color:#f92672>++</span> <span style=color:#75715e>//C=1不能写入for这里就不能写入
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>c</span> = <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>c</span> &lt; <span style=color:#a6e22e>C</span>; <span style=color:#a6e22e>c</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>C</span><span style=color:#f92672>%</span><span style=color:#a6e22e>c</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>goto</span> <span style=color:#a6e22e>LOOP</span> <span style=color:#75715e>//若发现因子不是素数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%d \t&#34;</span>, <span style=color:#a6e22e>c</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=if>if</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>语句      描述
</span></span><span style=display:flex><span>if语句        if语句由一个布尔表达式后紧跟一个或多个语句组成
</span></span><span style=display:flex><span>if...else语句 if语句后可以使用可选的else语句，else语句中的表达式再布尔表达式为false时执行
</span></span><span style=display:flex><span>if嵌套语句      可以在if或else if语句中潜入一个或多个if或else if语句
</span></span></code></pre></div><p><strong>if语句</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>if 布尔表达式{
</span></span><span style=display:flex><span>    /* 在布尔表达式为true时执行 */
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>num</span><span style=color:#f92672>%</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>num</span>, <span style=color:#e6db74>&#34;偶数&#34;</span>)
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>num</span>, <span style=color:#e6db74>&#34;奇数&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>if&mldr;else语句</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>if 布尔表达式{
</span></span><span style=display:flex><span>    /* 在布尔表达式为true时执行 */
</span></span><span style=display:flex><span>} else if {
</span></span><span style=display:flex><span>    /* 在布尔表达式为true时执行 */
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>} else{
</span></span><span style=display:flex><span>    /* 在布尔表达式为false时执行 */
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>score</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>90</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;优秀&#34;</span>)
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>score</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>80</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;良好&#34;</span>)
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>score</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>70</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;中等&#34;</span>)
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>score</span> &gt; <span style=color:#ae81ff>60</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;及格&#34;</span>)
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>score</span> &lt; <span style=color:#ae81ff>60</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;不及格&#34;</span>)
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><p><strong>特殊写法</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>num</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>num</span><span style=color:#f92672>%</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>num</span>, <span style=color:#e6db74>&#34;偶数&#34;</span>)
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>num</span>, <span style=color:#e6db74>&#34;奇数&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p>需要注意的是，num的定义在if里，那么只能够在该if&mldr;else语句块中使用，否则编译器会报错。</p></blockquote><h3 id=struct>struct</h3><blockquote><p>结构体是由一系列相同类型或不同类型的数据构成的数据集合。</p></blockquote><blockquote><p>结构体是值类型。因此，如果要修改值，需要赋值指针地址。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>type 类型名 struct{
</span></span><span style=display:flex><span>        成员属性1 类型1
</span></span><span style=display:flex><span>        成员属性2 类型2
</span></span><span style=display:flex><span>        成员属性3,成员属性4 类型 3
</span></span><span style=display:flex><span>        ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>在使用结构体的过程中注意以下3点。</p><ul><li>类型名是标识结构体的名称，在同一个包内不能重复。</li><li>结构体的属性，也叫字段，必须唯一。</li><li>同类型的成员属性可以写在一行。</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Teacher</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>age</span>  <span style=color:#66d9ef>int8</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>sex</span>  <span style=color:#66d9ef>byte</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>实例化</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Emp</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>age</span>  <span style=color:#66d9ef>int8</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>sex</span>  <span style=color:#66d9ef>byte</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>emp1</span> <span style=color:#f92672>:=</span> new(<span style=color:#a6e22e>Emp</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>emp1</span>).<span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;David&#34;</span>
</span></span><span style=display:flex><span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>emp1</span>).<span style=color:#a6e22e>age</span> = <span style=color:#ae81ff>30</span>
</span></span><span style=display:flex><span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>emp1</span>).<span style=color:#a6e22e>sex</span> = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 或
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>emp1</span>.<span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;David2&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>emp1</span>.<span style=color:#a6e22e>age</span> = <span style=color:#ae81ff>31</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>emp1</span>.<span style=color:#a6e22e>sex</span> = <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p><strong>匿名结构体</strong></p><blockquote><p>匿名结构体就是没有名字的结构体。无需通过type关键字就可以直接使用。创建匿名结构体时，同时要创建对象。匿名结构体由结构体定义和键值
对初始化两部分组成。语法格式示例如下。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>变量名:=struct{
</span></span><span style=display:flex><span>//定义成员属性
</span></span><span style=display:flex><span>} {//初始化成员属性}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>//匿名结构体
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>addr</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>province</span>, <span style=color:#a6e22e>city</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}{<span style=color:#e6db74>&#34;山西省&#34;</span>, <span style=color:#e6db74>&#34;西安市&#34;</span>}
</span></span></code></pre></div><p><strong>匿名字段</strong></p><blockquote><p>匿名字段就是在结构体中的字段没有名字，只包含一个没有字段名的类型。这些字段被称为匿名字段。</p></blockquote><blockquote><p>如果字段没有名字，那么默认使用类型作为字段名，同一个类型只能有一个匿名字段。结构体嵌套中采用匿名结构体字段可以模拟继承关系。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>User</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>byte</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int8</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//实例化结构体
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>user</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>User</span>{<span style=color:#e6db74>&#34;Steven&#34;</span>, <span style=color:#e6db74>&#39;m&#39;</span>, <span style=color:#ae81ff>35</span>, <span style=color:#ae81ff>177.5</span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>user</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//如果想依次输出姓名、年龄、身高、性别
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;姓名：%s \n&#34;</span>, <span style=color:#a6e22e>user</span>.<span style=color:#66d9ef>string</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;身高：%.2f \n&#34;</span>, <span style=color:#a6e22e>user</span>.<span style=color:#66d9ef>float64</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;性别：%c \n&#34;</span>, <span style=color:#a6e22e>user</span>.<span style=color:#66d9ef>byte</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;年龄：%d \n&#34;</span>, <span style=color:#a6e22e>user</span>.<span style=color:#66d9ef>int8</span>)
</span></span></code></pre></div><p><strong>结构体嵌套</strong></p><blockquote><p>将一个结构体作为另一个结构体的属性(字段)，这种结构就是结构体嵌套。</p></blockquote><p>结构体嵌套可以模拟面向对象编程中的以下两种关系。</p><ul><li>聚合关系：一个类作为另一个类的属性。</li><li>继承关系：一个类作为另一个类的字类。子类和父类的关系。</li></ul><p><em>模拟聚合关系</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Address</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>province</span>, <span style=color:#a6e22e>city</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Person</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>age</span>     <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>address</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Address</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//模拟结构体对象之间的聚合关系
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>p</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Person</span>{}
</span></span><span style=display:flex><span><span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;Steven&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>age</span> = <span style=color:#ae81ff>35</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//赋值方式1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>addr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Address</span>{}
</span></span><span style=display:flex><span><span style=color:#a6e22e>addr</span>.<span style=color:#a6e22e>province</span> = <span style=color:#e6db74>&#34;北京市&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>addr</span>.<span style=color:#a6e22e>city</span> = <span style=color:#e6db74>&#34;海淀区&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>address</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>addr</span>
</span></span></code></pre></div><p><em>模拟继承关系</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Person</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>age</span>  <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>sex</span>  <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Student</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>schoolName</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//1.实例化并初始化Person
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>p1</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Person</span>{<span style=color:#e6db74>&#34;Steven&#34;</span>, <span style=color:#ae81ff>35</span>, <span style=color:#e6db74>&#34;男&#34;</span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>p1</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;-----------------&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//2.实例化并初始化Student
</span></span></span><span style=display:flex><span><span style=color:#75715e>//写法1:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>s1</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Student</span>{<span style=color:#a6e22e>p1</span>, <span style=color:#e6db74>&#34;北航软件学院&#34;</span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//写法2:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>s2</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Student</span>{<span style=color:#a6e22e>Person</span>{<span style=color:#e6db74>&#34;Josh&#34;</span>, <span style=color:#ae81ff>30</span>, <span style=color:#e6db74>&#34;男&#34;</span>}, <span style=color:#e6db74>&#34;北外高翻学院&#34;</span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//写法3:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>s3</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Student</span>{<span style=color:#a6e22e>Person</span>: <span style=color:#a6e22e>Person</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span>: <span style=color:#e6db74>&#34;Penn&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>age</span>:  <span style=color:#ae81ff>19</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sex</span>:  <span style=color:#e6db74>&#34;男&#34;</span>,
</span></span><span style=display:flex><span>},
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>schoolName</span>: <span style=color:#e6db74>&#34;北大元培学院&#34;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//写法4:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>s4</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Student</span>{}
</span></span><span style=display:flex><span><span style=color:#a6e22e>s4</span>.<span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;Daniel&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>s4</span>.<span style=color:#a6e22e>sex</span> = <span style=color:#e6db74>&#34;男&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>s4</span>.<span style=color:#a6e22e>age</span> = <span style=color:#ae81ff>12</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>s4</span>.<span style=color:#a6e22e>schoolName</span> = <span style=color:#e6db74>&#34;北京十一龙樾&#34;</span>
</span></span></code></pre></div><p><strong>方法</strong>
和函数的区别</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>1.含义不同
</span></span><span style=display:flex><span>函数(function)是一段具有独立功能的代码，可以被反复多次调用，从而实现代码复用。而方法(method)是一个类的行为功能，只有该类的对象才能调用。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>2.方法有接受者，而函数无接受者
</span></span><span style=display:flex><span>Go语言的方法(method)是一种作用于特定类型变量的函数。这种特定类型变量叫作接受者(receiver)。接收者的概念类似于传统面向对象语言中的this或
</span></span><span style=display:flex><span>self关键字。
</span></span><span style=display:flex><span>Go语言的接受者强调了方法具有作用对象，而函数没有作用对象。一个方法就是一个包含了接受者的函数。
</span></span><span style=display:flex><span>Go语言中，接受者可以是结构体，也可以是结构体类型外的其他任何类型。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>3.函数不可以重名，而方法可以重名。
</span></span><span style=display:flex><span>只要接受者不同，方法名就可以相同。
</span></span></code></pre></div><p>语法格式</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>func (接受者变量 接受者类型) 方法名(参数列表) (返回值列表) {
</span></span><span style=display:flex><span>//方法体
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p>接受者在func关键字和方法名之间编写，接受者可以是struct类型或非struct类型，可以是指针类型或非指针类型。接受者中的变量
在命名时，官方建议使用接受者类型的第一个小写字母。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Employee</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>currency</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>salary</span>         <span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp1</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Employee</span>{<span style=color:#e6db74>&#34;Daniel&#34;</span>, <span style=color:#e6db74>&#34;$&#34;</span>, <span style=color:#ae81ff>2000</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp1</span>.<span style=color:#a6e22e>printSalary</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>printSalary</span>(<span style=color:#a6e22e>emp1</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//printSalary()方法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>e</span> <span style=color:#a6e22e>Employee</span>) <span style=color:#a6e22e>printSalary</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;员工姓名：%s，薪资：%s%.2f \n&#34;</span>, <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>currency</span>, <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>salary</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//printSalary函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>e</span> <span style=color:#a6e22e>Employee</span>) <span style=color:#a6e22e>printSalary</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;员工姓名：%s，薪资：%s%.2f \n&#34;</span>, <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>currency</span>, <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>salary</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p>若方法的接受者不是指针，实际只是获取了一个拷贝，而不能真正改变接受者中原来的数据。</p></blockquote><p><strong>方法继承</strong></p><blockquote><p>如果匿名字段实现了一个方法，那么包含这个匿名字段的struct也能调用该匿名字段中的方法。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Human</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>phone</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>age</span>         <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Student</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Human</span>  <span style=color:#75715e>//匿名字段
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>school</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Employee</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Human</span>   <span style=color:#75715e>//匿名字段
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>company</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s1</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Student</span>{<span style=color:#a6e22e>Human</span>{<span style=color:#e6db74>&#34;Daniel&#34;</span>, <span style=color:#e6db74>&#34;15012345***&#34;</span>, <span style=color:#ae81ff>13</span>}, <span style=color:#e6db74>&#34;十一中学&#34;</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>e1</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Employee</span>{<span style=color:#a6e22e>Human</span>{<span style=color:#e6db74>&#34;Steven&#34;</span>, <span style=color:#e6db74>&#34;17812345***&#34;</span>, <span style=color:#ae81ff>35</span>}, <span style=color:#e6db74>&#34;1000phone&#34;</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s1</span>.<span style=color:#a6e22e>SayHi</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>e1</span>.<span style=color:#a6e22e>SayHi</span>()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>h</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Human</span>) <span style=color:#a6e22e>SayHi</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;大家好！我是%s,我%d岁，我的联系方式是：%s\n&#34;</span>, <span style=color:#a6e22e>h</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>h</span>.<span style=color:#a6e22e>age</span>, <span style=color:#a6e22e>h</span>.<span style=color:#a6e22e>phone</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>方法重写</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Human</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>phone</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>age</span>         <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Student</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Human</span>  <span style=color:#75715e>//匿名字段
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>school</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Employee</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Human</span>   <span style=color:#75715e>//匿名字段
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>company</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s1</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Student</span>{<span style=color:#a6e22e>Human</span>{<span style=color:#e6db74>&#34;Daniel&#34;</span>, <span style=color:#e6db74>&#34;15012345***&#34;</span>, <span style=color:#ae81ff>13</span>}, <span style=color:#e6db74>&#34;十一中学&#34;</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>e1</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Employee</span>{<span style=color:#a6e22e>Human</span>{<span style=color:#e6db74>&#34;Steven&#34;</span>, <span style=color:#e6db74>&#34;17812345***&#34;</span>, <span style=color:#ae81ff>35</span>}, <span style=color:#e6db74>&#34;1000phone&#34;</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s1</span>.<span style=color:#a6e22e>SayHi</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>e1</span>.<span style=color:#a6e22e>SayHi</span>()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>h</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Human</span>) <span style=color:#a6e22e>SayHi</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;大家好！我是%s,我%d岁，联系方式：%s\n&#34;</span>, <span style=color:#a6e22e>h</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>h</span>.<span style=color:#a6e22e>age</span>, <span style=color:#a6e22e>h</span>.<span style=color:#a6e22e>phone</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>s</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Student</span>) <span style=color:#a6e22e>SayHi</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;大家好！我是%s,我%d岁，我在%s上学，联系方式：%s\n&#34;</span>, <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>age</span>, <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>school</span>, <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>phone</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Employee</span>) <span style=color:#a6e22e>SayHi</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;大家好！我是%s,我%d岁，我在%s工作，联系方式：%s\n&#34;</span>, <span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>age</span>, <span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>company</span>, <span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>phone</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=switch>switch</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>switch语句    switch语句用于基于不同条件执行不同动作
</span></span><span style=display:flex><span>select      select语句类似于switch语句，但是select会随机执行一个可运行的case。如果没有case可运行，
</span></span><span style=display:flex><span>        它将阻塞，直到有case可运行。
</span></span></code></pre></div><p>Go语言中switch语句的语法如下所示：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>var1</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>val1</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>val2</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p>switch语句执行的过程自上而下，直到找到case匹配项，匹配项中无须使用break，因为Go语言
中的switch默认给每个case自带break。因此匹配成功后不会向下执行其他的case分支，而是跳出
整个switch。可以添加fallthrough，强制执行后面的case分支。fallthrough必须放在case分支的
最后一行。如果它出现在中间的某个地方，编译器就会报错。</p></blockquote><blockquote><p>变量var1可以是任何类型，而val1和val2则可以是同类型的任意值。类型不局限于常量或整数，但
必须是相同类型或最终结果为相同类型的表达式。</p></blockquote><blockquote><p>case后的值不能重复，但可以同时测试多个符合条件的值，也就是说case后可以有多个值，这些值
之间使用逗号分隔，例如：case val1,val2,val3。</p></blockquote><blockquote><p>switch后的表达式可以省略，默认是switch true</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>/* 定义局部变量 */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>grade</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>score</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>78.5</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>switch</span> { <span style=color:#75715e>//switch后面省略不写，默认相当于：switch true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>case</span> <span style=color:#a6e22e>score</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>90</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grade</span> = <span style=color:#e6db74>&#34;A&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#a6e22e>score</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>80</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grade</span> = <span style=color:#e6db74>&#34;B&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#a6e22e>score</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>70</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grade</span> = <span style=color:#e6db74>&#34;C&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#a6e22e>score</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>60</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grade</span> = <span style=color:#e6db74>&#34;D&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grade</span> = <span style=color:#e6db74>&#34;E&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>grade</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;A&#34;</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;优秀!\n&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;B&#34;</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;良好\n&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;C&#34;</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;中等\n&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;D&#34;</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;及格\n&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;差\n&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>/////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>/* 定义局部变量 */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>year</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2008</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>month</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>days</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>month</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>12</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>days</span> = <span style=color:#ae81ff>31</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>11</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>days</span> = <span style=color:#ae81ff>30</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#ae81ff>2</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>year</span><span style=color:#f92672>%</span><span style=color:#ae81ff>4</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>year</span><span style=color:#f92672>%</span><span style=color:#ae81ff>100</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>) <span style=color:#f92672>||</span> <span style=color:#a6e22e>year</span><span style=color:#f92672>%</span><span style=color:#ae81ff>400</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>days</span> = <span style=color:#ae81ff>29</span>
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>days</span> = <span style=color:#ae81ff>28</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span><span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>days</span> = <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%d 年 %d 月的天数为: %d\n&#34;</span>, <span style=color:#a6e22e>year</span>, <span style=color:#a6e22e>month</span>, <span style=color:#a6e22e>days</span>)
</span></span></code></pre></div><p><strong>类型转换</strong></p><blockquote><p>switch语句还可以被用于type switch(类型转换)来判断某个interface变量中实际存储的变量类型。
下面演示type switch的语法。其语法结构如下所示：</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>x</span>.(<span style=color:#66d9ef>type</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#66d9ef>type</span>:
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>statement</span>(<span style=color:#a6e22e>s</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#66d9ef>type</span>:
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>statement</span>(<span style=color:#a6e22e>s</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>/* 你可以定义任意个数的case */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>default</span>: <span style=color:#75715e>/* 可选 */</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>statement</span>(<span style=color:#a6e22e>s</span>);
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>// 判断interface变量中存储的变量类型。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>x</span> <span style=color:#66d9ef>interface</span>{}
</span></span><span style=display:flex><span><span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>x</span>.(<span style=color:#66d9ef>type</span>) {
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#66d9ef>nil</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34; x 的类型:%T&#34;</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#66d9ef>int</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;x是int型&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#66d9ef>float64</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;x是float64型&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>int</span>):
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;x是func(int)型&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#66d9ef>bool</span>, <span style=color:#66d9ef>string</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;x是bool或string型&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;未知型&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=select>select</h3><blockquote><p><a href=http://tour.studygolang.com/concurrency/5>http://tour.studygolang.com/concurrency/5</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>select 语句使一个 Go 程可以等待多个通信操作。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>select 会阻塞到某个分支可以继续执行为止，这时就会执行该分支。当多个分支都准备好时会随机选择一个执行。
</span></span></code></pre></div><h3 id=type>type</h3><p><strong>类型别名</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>类型别名的语法格式如下。
</span></span><span style=display:flex><span>type 类型别名 = 类型
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#66d9ef>byte</span> = <span style=color:#66d9ef>uint8</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#66d9ef>rune</span> = <span style=color:#66d9ef>int32</span>
</span></span></code></pre></div><p><strong>类型定义</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>定义类型的语法格式如下。
</span></span><span style=display:flex><span>type 新的类型 类型
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>NewString</span> <span style=color:#66d9ef>string</span>
</span></span></code></pre></div><blockquote><p>该语句是将NewString定义为string类型。通过type关键字，NewString会形成一种新的类型。
NewString本身依然具备string的特性。</p></blockquote><blockquote><p>出于对程序性能的考虑，建议如下。</p></blockquote><ul><li>尽可能地使用：=去初始化声明一个变量(在函数内部)。</li><li>尽可能地使用字符代替字符串</li></ul><h2 id=数据类型>数据类型</h2><h3 id=复合数据类型>复合数据类型</h3><h4 id=array>array</h4><blockquote><p>数组是相同类型的一组数据构成的长度固定的序列，其中数据类型包含了基本数据类型、符合数据类型和自定义数据类型。
数组中的每一项被称为数组的元素。数组名是数组的唯一标识符，数组的每一个元素都是没有名字的，只能通过索引下标
(位置)进行访问。因为数组的内存是一段连续的存储区域，所以数组的检索速度是非常快的，但是数组也有一定的缺陷，就是定义
后长度不能更改。</p></blockquote><p><strong>声明</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>var 变量名 [数组长度] 数据类型
</span></span></code></pre></div><p><strong>多维数组</strong></p><blockquote><p>由于数据的复杂程度不一样，数组可能有多个下表。一般将数组元素下标的个数称为维数，根据维数，可将数组分为一维数组、
二维数组、三维数组、四维数组等。二维及以上的数组可称为多维数组。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>var variable_name [SIZE1][SIZE2]...[SIZEn] variable_type
</span></span></code></pre></div><p><strong>如何判断元素是否在切片中?</strong></p><p>在Python，可以使用in和not in语法做判断，但Go不行，只能遍历检查。 查资料浏览网友的说法，如果需要判断元素是否存在，建议使用map。</p><p>有一个例子，检查某个值是否存在于环境环境(这个是[]string类型)，使用了os.Getenv(key)。 查看源码，了解到最终是调用了windows的dll程序来获取结果。</p><p><strong>如何判断两个切片是否一致?</strong></p><p>使用reflect.DeepEqual函数</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>二维数组的定义方式如下。
</span></span><span style=display:flex><span>var arrayName [x][y] variable_type
</span></span></code></pre></div><h4 id=interface>interface</h4><blockquote><p>接口是一组方法签名。接口指定了类型应该具有的方法，类型决定了如果实现这些方法。当某个类型行为接口中的所有方法提供了具体
的实现细节时，这个类型就被称为实现了该接口。接口定义了一组方法，如果某个对象实现了该接口的所有方法，则此对象就实现了该接口。</p></blockquote><blockquote><p>Go语言的类型都是隐式实现接口的。任何定义了接口中所有的方法的类型都被称为隐式地实现了该接口。</p></blockquote><p>定义接口的语法格式如下。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>type 接口名字 interface{
</span></span><span style=display:flex><span>方法1([参数列表]) [返回值]
</span></span><span style=display:flex><span>方法2([参数列表]) [返回值]
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>方法n([参数列表]) [返回值]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>实现该接口方法的语法格式如下：
</span></span><span style=display:flex><span>func (变量名 结构体类型) 方法1([参数列表]) [返回值]{
</span></span><span style=display:flex><span>    //方法体
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>func (变量名 结构体类型) 方法2([参数列表]) [返回值]{
</span></span><span style=display:flex><span>    //方法体
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>func (变量名 结构体类型) 方法n([参数列表]) [返回值]{
</span></span><span style=display:flex><span>    //方法体
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Phone</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>call</span>()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>AndroidPhone</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>IPhone</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>a</span> <span style=color:#a6e22e>AndroidPhone</span>) <span style=color:#a6e22e>call</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;我是安卓手机，可以打电话了&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>i</span> <span style=color:#a6e22e>IPhone</span>) <span style=color:#a6e22e>call</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;我是苹果手机，可以打电话了&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//定义接口类型的变量
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>phone</span> <span style=color:#a6e22e>Phone</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>phone</span> = new(<span style=color:#a6e22e>AndroidPhone</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%T,%v,%p \n&#34;</span>, <span style=color:#a6e22e>phone</span>, <span style=color:#a6e22e>phone</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>phone</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>phone</span>.<span style=color:#a6e22e>call</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>phone</span> = <span style=color:#a6e22e>AndroidPhone</span>{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%T,%v,%p \n&#34;</span>, <span style=color:#a6e22e>phone</span>, <span style=color:#a6e22e>phone</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>phone</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>phone</span>.<span style=color:#a6e22e>call</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>phone</span> = new(<span style=color:#a6e22e>IPhone</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%T,%v,%p \n&#34;</span>, <span style=color:#a6e22e>phone</span>, <span style=color:#a6e22e>phone</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>phone</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>phone</span>.<span style=color:#a6e22e>call</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>phone</span> = <span style=color:#a6e22e>IPhone</span>{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%T,%v,%p \n&#34;</span>, <span style=color:#a6e22e>phone</span>, <span style=color:#a6e22e>phone</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>phone</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>phone</span>.<span style=color:#a6e22e>call</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>关于duck typing</strong></p><ul><li>duck typing是描述事物的外部行为而非内部结构。</li><li>duck typing关注的不是对象的类型本身，而是它是如何使用的。</li></ul><blockquote><p>代码实现请参阅https://gitee.com/luzhenxiong/codes/hyds70ploebkifv9654z292</p></blockquote><p><strong>空接口</strong></p><blockquote><p>空接口中没有任何方法。任意类型都可以实现该接口。空接口这样定义：interface{}，也就是包含0个方法(method)的interface。
空接口可表示任意数据类型，类似于Java中的object。</p></blockquote><p>空接口常用于以下情形。</p><ul><li>println的参数就是空接口。</li><li>定义个map：key是string，value是任意数据类型。</li><li>定义一个切片，其中存储任意类型的数据。</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>A</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Cat</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>age</span>  <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Person</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>sex</span>  <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a1</span> <span style=color:#a6e22e>A</span> = <span style=color:#a6e22e>Cat</span>{<span style=color:#e6db74>&#34;Mimi&#34;</span>, <span style=color:#ae81ff>1</span>}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a2</span> <span style=color:#a6e22e>A</span> = <span style=color:#a6e22e>Person</span>{<span style=color:#e6db74>&#34;Steven&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a3</span> <span style=color:#a6e22e>A</span> = <span style=color:#e6db74>&#34;Learn golang with me!&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a4</span> <span style=color:#a6e22e>A</span> = <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a5</span> <span style=color:#a6e22e>A</span> = <span style=color:#ae81ff>3.14</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;-----------------&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#75715e>//1.fmt.println参数就是空接口
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;println的参数就是空接口，可以是任何数据类型&#34;</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>3.14</span>, <span style=color:#a6e22e>Cat</span>{<span style=color:#e6db74>&#34;旺旺&#34;</span>, <span style=color:#ae81ff>2</span>})
</span></span><span style=display:flex><span>	<span style=color:#75715e>//2.定义map,value是任何数据类型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>map1</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{})
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>map1</span>[<span style=color:#e6db74>&#34;name&#34;</span>] = <span style=color:#e6db74>&#34;Daniel&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>map1</span>[<span style=color:#e6db74>&#34;age&#34;</span>] = <span style=color:#ae81ff>13</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>map1</span>[<span style=color:#e6db74>&#34;height&#34;</span>] = <span style=color:#ae81ff>1.71</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>map1</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;-----------------&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#75715e>//3.定义一个切片，其中存储任意数据类型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>slice1</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>interface</span>{}, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>slice1</span> = append(<span style=color:#a6e22e>slice1</span>, <span style=color:#a6e22e>a1</span>, <span style=color:#a6e22e>a2</span>, <span style=color:#a6e22e>a3</span>, <span style=color:#a6e22e>a4</span>, <span style=color:#a6e22e>a5</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>slice1</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>接口对象类型</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>instance,ok:=接口对象.(实际类型)
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>如果该接口对象是对应的实际类型，那么instance就是转型之后的对象，ok的值为true，配合
</span></span></span><span style=display:flex><span><span style=color:#75715e>if...else if...语句使用。
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>接口对象转型第二种方式示例如下。
</span></span></span><span style=display:flex><span><span style=color:#75715e>接口对象.(type)
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//样例：接口对象转型。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;math&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//1.定义接口
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Shape</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>perimeter</span>() <span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>area</span>() <span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//2.矩形
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Rectangle</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//3.三角形
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Triangle</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span> <span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//4.圆形
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Circle</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>radius</span> <span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//定义实现接口的方法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>r</span> <span style=color:#a6e22e>Rectangle</span>) <span style=color:#a6e22e>perimeter</span>() <span style=color:#66d9ef>float64</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>a</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>b</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>r</span> <span style=color:#a6e22e>Rectangle</span>) <span style=color:#a6e22e>area</span>() <span style=color:#66d9ef>float64</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>t</span> <span style=color:#a6e22e>Triangle</span>) <span style=color:#a6e22e>perimeter</span>() <span style=color:#66d9ef>float64</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>a</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>c</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>t</span> <span style=color:#a6e22e>Triangle</span>) <span style=color:#a6e22e>area</span>() <span style=color:#66d9ef>float64</span> {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//海伦公式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>p</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>perimeter</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#75715e>//半周长
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>Sqrt</span>(<span style=color:#a6e22e>p</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>p</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>a</span>) <span style=color:#f92672>*</span> (<span style=color:#a6e22e>p</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>b</span>) <span style=color:#f92672>*</span> (<span style=color:#a6e22e>p</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>c</span>))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>c</span> <span style=color:#a6e22e>Circle</span>) <span style=color:#a6e22e>perimeter</span>() <span style=color:#66d9ef>float64</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>Pi</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>radius</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>c</span> <span style=color:#a6e22e>Circle</span>) <span style=color:#a6e22e>area</span>() <span style=color:#66d9ef>float64</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>Pow</span>(<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>radius</span>, <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>Pi</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//接口对象转型方式1
</span></span></span><span style=display:flex><span><span style=color:#75715e>//instance,ok:=接口对象.(实际类型)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getType</span>(<span style=color:#a6e22e>s</span> <span style=color:#a6e22e>Shape</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>instance</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>s</span>.(<span style=color:#a6e22e>Rectangle</span>); <span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;矩形：长度%.2f,宽度%.2f,&#34;</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>b</span>)
</span></span><span style=display:flex><span>	} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>instance</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>s</span>.(<span style=color:#a6e22e>Triangle</span>); <span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;三角形：三边分别：%.2f,%.2f,%.2f,&#34;</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>c</span>)
</span></span><span style=display:flex><span>	} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>instance</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>s</span>.(<span style=color:#a6e22e>Circle</span>); <span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;圆形：半径%.2f,&#34;</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>radius</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//接口对象.(type)，配合switch和case语句使用
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getType2</span>(<span style=color:#a6e22e>s</span> <span style=color:#a6e22e>Shape</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>instance</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>s</span>.(<span style=color:#66d9ef>type</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Rectangle</span>:
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;矩形：长度为%.2f，宽为%.2f,\t&#34;</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>b</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Triangle</span>:
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;三角形：三边分别为%.2f,%.2f,%.2f,\t&#34;</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>c</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Circle</span>:
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;圆形：半径为%.2f,\t&#34;</span>, <span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>radius</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getResult</span>(<span style=color:#a6e22e>s</span> <span style=color:#a6e22e>Shape</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>getType2</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;周长：%.2f，面积:%.2f \n&#34;</span>, <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>perimeter</span>(), <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>area</span>())
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> <span style=color:#a6e22e>Shape</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s</span> = <span style=color:#a6e22e>Rectangle</span>{<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>getResult</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>showInfo</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s</span> = <span style=color:#a6e22e>Triangle</span>{<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>getResult</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>showInfo</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s</span> = <span style=color:#a6e22e>Circle</span>{<span style=color:#ae81ff>1</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>getResult</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>showInfo</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Triangle</span>{<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>x</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>t</span> <span style=color:#a6e22e>Triangle</span>) <span style=color:#a6e22e>String</span>() <span style=color:#66d9ef>string</span> { <span style=color:#75715e>//实现了系统接口，最后的打印部分会改变
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;Triangle对象，属性分别为：%.2f,%.2f,%.2f&#34;</span>, <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>c</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>showInfo</span>(<span style=color:#a6e22e>s</span> <span style=color:#a6e22e>Shape</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%T,%v \n&#34;</span>, <span style=color:#a6e22e>s</span>, <span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;----------------&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=类型转换>类型转换</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>1.基本语法
</span></span><span style=display:flex><span>Go语言采用数据类型前置加括号的方式进行类型转换，格式如：T(表达式)。T表示要转换的类型；表达式包括变量、
</span></span><span style=display:flex><span>数值、函数返回值等。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>类型转换时，需要考虑两种类型之间的关系和范围，是否会发生数值截断。值得注意的是，布尔型无法与其他类型
</span></span><span style=display:flex><span>进行转换。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>使用示例如下：
</span></span><span style=display:flex><span>var a int = 100
</span></span><span style=display:flex><span>b:=float64(a)  //将int型转换成float64型
</span></span><span style=display:flex><span>c:=string(a)    //将int型转换成string型
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>2.浮点型与整型之间转换
</span></span><span style=display:flex><span>float和int的类型精度不同，使用时需要注意float转int时精度的损失。
</span></span><span style=display:flex><span>具体的使用方法：
</span></span><span style=display:flex><span>package main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>import &#34;fmt&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>func main() {
</span></span><span style=display:flex><span>	chinese := 90
</span></span><span style=display:flex><span>	english := 80.9
</span></span><span style=display:flex><span>	avg := (chinese + int(english)) / 2
</span></span><span style=display:flex><span>	avg2 := (float64(chinese) + english) / 2
</span></span><span style=display:flex><span>	fmt.Printf(&#34;%T,%d\n&#34;, avg, avg)
</span></span><span style=display:flex><span>	fmt.Printf(&#34;%T, %f\n&#34;, avg2, avg2)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>运行结果：
</span></span><span style=display:flex><span>int,85
</span></span><span style=display:flex><span>float64, 85.450000
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>3.整型转字符串类型
</span></span><span style=display:flex><span>这种类型的转换，其实相当于byte或rune转string。int数值是ASCII码的编号或unicode字符集的编号，转成
</span></span><span style=display:flex><span>string就是根据字符集，将对应编号的字符查出来。当该数值超出unicode编号范围，则转成的字符串显示为
</span></span><span style=display:flex><span>乱码。例如，19968转string，就是&#39;一&#39;。
</span></span><span style=display:flex><span>备注：
</span></span><span style=display:flex><span>·ASCII字符集中数字的十进制范围是48~57;
</span></span><span style=display:flex><span>·ASCII字符集中大写字母的十进制范围是65~90；
</span></span><span style=display:flex><span>·ASCII字符集中小写字母的十进制范围是97~122；
</span></span><span style=display:flex><span>·unicode字符集中汉字的范围是4e00~9fa5，十进制范围是19968~40869。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>具体的使用方法：
</span></span><span style=display:flex><span>package main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>import &#34;fmt&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>func main() {
</span></span><span style=display:flex><span>	a := 97
</span></span><span style=display:flex><span>	x := 19968
</span></span><span style=display:flex><span>	result := string(a)
</span></span><span style=display:flex><span>	fmt.Println(result)
</span></span><span style=display:flex><span>	result = string(x)
</span></span><span style=display:flex><span>	fmt.Println(result)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>运行结果：
</span></span><span style=display:flex><span>a
</span></span><span style=display:flex><span>一
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>注意：在Go语言中，不允许字符串转int。
</span></span></code></pre></div><h2 id=运算符>运算符</h2><h3 id=算数运算符>算数运算符</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>运算符	描述	
</span></span><span style=display:flex><span>+	相加	
</span></span><span style=display:flex><span>-	相减
</span></span><span style=display:flex><span>*	相减
</span></span><span style=display:flex><span>/	相除
</span></span><span style=display:flex><span>%	求余
</span></span><span style=display:flex><span>++	自增
</span></span><span style=display:flex><span>--	自减
</span></span></code></pre></div><h3 id=关系运算符>关系运算符</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>运算符：
</span></span><span style=display:flex><span>==
</span></span><span style=display:flex><span>!=
</span></span><span style=display:flex><span>&gt;
</span></span><span style=display:flex><span>&lt;
</span></span><span style=display:flex><span>&gt;=
</span></span><span style=display:flex><span>&lt;=
</span></span></code></pre></div><h3 id=逻辑运算符>逻辑运算符</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>运算符	描述
</span></span><span style=display:flex><span>&amp;&amp;	逻辑AND运算符。如果两边的操作数都是True，则条件为True，否则为False
</span></span><span style=display:flex><span>||	逻辑OR运算符。如果两边的操作数有一个True，则条件True，否则为False
</span></span><span style=display:flex><span>!	逻辑NOT运算符。如果条件为True，则逻辑NOT条件False，否则为True。
</span></span></code></pre></div><h3 id=位运算符>位运算符</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>
</span></span><span style=display:flex><span>位运算符对整数在内存中的二进制位进行操作。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>位运算符比一般的算术运算符速度要快，而且可以实现一些算术运算符不能实现的功能。如果要开发高效率程序，
</span></span><span style=display:flex><span>位运算符是必不可少的。位运算符用来对二进制位进行操作，包括：按位与(&amp;)、按位或(|)、按位异或(^)、
</span></span><span style=display:flex><span>按位左移(&lt;&lt;)、按位右移(&gt;&gt;)。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>位运算符
</span></span><span style=display:flex><span>运算符	描述					实例
</span></span><span style=display:flex><span>&amp;	按位运算符&#34;&amp;&#34;是双目运算符。			(A &amp; B)结果为12，二进制位0000 1100
</span></span><span style=display:flex><span>	其功能是参与运算的两数各对应的二进制位与
</span></span><span style=display:flex><span>|	按位或运算符&#34;|&#34;是双目运算符。其功能是参与	(A|B)结果位61，二进制位0011 1101
</span></span><span style=display:flex><span>	的两数各对应的二进制位或
</span></span><span style=display:flex><span>^	按位异或运算符&#34;^&#34;是双目运算符。其功能是		(A^B)结果为49，二进制位0011 0001
</span></span><span style=display:flex><span>	参与运算的两数各对应的二进制位巷异或，当两
</span></span><span style=display:flex><span>	对应的二进制位异或时，结果位1
</span></span><span style=display:flex><span>&lt;&lt;	左移运算符&#34;&lt;&lt;&#34;是双目运算符。左移n位就是乘	(A&lt;&lt;2)结果为240，二进制为1111 0000
</span></span><span style=display:flex><span>	以2的n次方。其功能是把&#34;&lt;&lt;&#34;左边的运算数的各
</span></span><span style=display:flex><span>	二进制位全部左移若干位，由&#34;&lt;&lt;&#34;右边的数指定
</span></span><span style=display:flex><span>	移动的位数，高位舍弃，低位补0
</span></span><span style=display:flex><span>&gt;&gt;&gt;	右移运算符&#34;&gt;&gt;&#34;是双目运算符。右移n位就是除以2	(A&gt;&gt;2)结果位15，二进制为0000 1111
</span></span><span style=display:flex><span>	的n次方。其功能是把&#34;&gt;&gt;&#34;左边的运算数的各二进
</span></span><span style=display:flex><span>	制全部右移若干位，&#34;&gt;&gt;&#34;右边的数指定移动的位数
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>1.按位与
</span></span><span style=display:flex><span>按位与(&amp;)：对两个数进行操作，然后返回一个新的数，这个数的每一位都需要两个输入数的同一位都为1时才为
</span></span><span style=display:flex><span>1.简单说就是：同一位同时为1则为1。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>2.按位
</span></span><span style=display:flex><span>按位或(|):对两个数进行操作，然后返回一个新的数，这个数的每一位只要注意任意一个输入数的同一位位1则位1。
</span></span><span style=display:flex><span>简单说就是，同一位其中一个位1。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>3.按位异或
</span></span><span style=display:flex><span>按位异或(^)：对两个数进行操作，然后返回一个新的数，这个数的每一位只要两个输入数的同一位不同则为1，如果相同
</span></span><span style=display:flex><span>就为0。简单说就是，同一位不相同则位1。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>4.左移运算符(&lt;&lt;)
</span></span><span style=display:flex><span>按二进制形式把所有的数字向左移动对应的位数，高位移出(舍弃)，低位的空位补0.
</span></span><span style=display:flex><span>（1）语法格式
</span></span><span style=display:flex><span>需要移位的数字&lt;&lt;移位的次数
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>例如，3&lt;&lt;4，则是将数字3左移4位。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>（2）计算过程
</span></span><span style=display:flex><span>3&lt;&lt;4
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(3)数学意义
</span></span><span style=display:flex><span>在数字没有溢出的前提下，对于正数和负数，左移1位都相当于乘以2的1次方，左移n位就相当于乘以2的n次方。
</span></span></code></pre></div><h3 id=赋值运算符>赋值运算符</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>运算符	描述
</span></span><span style=display:flex><span>=	简单的赋值运算符，将一个表达式的值赋给一个左值
</span></span><span style=display:flex><span>+=	相加后再赋值
</span></span><span style=display:flex><span>-=	相减后再赋值
</span></span><span style=display:flex><span>*=	相乘后再赋值
</span></span><span style=display:flex><span>/=	相除后再赋值
</span></span><span style=display:flex><span>%=	求余后再赋值
</span></span><span style=display:flex><span>&lt;&lt;=	左移后再赋值
</span></span><span style=display:flex><span>&gt;&gt;=	右移后赋值
</span></span><span style=display:flex><span>&amp;=	按位与后赋值
</span></span><span style=display:flex><span>^=	按位异或后赋值
</span></span><span style=display:flex><span>|=	按位或后赋值
</span></span></code></pre></div><h3 id=指针运算符>指针运算符</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>运算符	描述	
</span></span><span style=display:flex><span>&amp;	返回变量存储地址	
</span></span><span style=display:flex><span>*	指针变量
</span></span></code></pre></div><h3 id=运算符优先级>运算符优先级</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>优先级	运算符
</span></span><span style=display:flex><span>7	^!
</span></span><span style=display:flex><span>6	*/%&lt;&lt;&gt;&gt;&amp;&amp;^
</span></span><span style=display:flex><span>5	+-|^
</span></span><span style=display:flex><span>4	==!=&lt;&lt;=&gt;=&gt;
</span></span><span style=display:flex><span>3	&lt;-
</span></span><span style=display:flex><span>2	&amp;&amp;
</span></span><span style=display:flex><span>1	||
</span></span></code></pre></div><h2 id=指针>指针</h2><blockquote><p>指针是存储另一个变量的内存地址的变量。</p></blockquote><blockquote><p>例如：变量b的值为156，存储在内存地址0x1040a124。变量a持有b的地址，则a被认为指向b。</p></blockquote><blockquote><p>在Go语言中使用取地址符(&)来获取变量的地址，一个变量前使用&，会返回该变量的内存地址。</p></blockquote><blockquote><p>Go语言指针的最大特点是：指针不能运算(不同于C语言)</p></blockquote><h3 id=声明指针>声明指针</h3><blockquote><p>声明指针，*T是指针变量的类型，它指向T类型的值。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>var 指针变量名 *指针类型
</span></span><span style=display:flex><span>*号用于指定变量是一个指针。
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ip</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int</span>	<span style=color:#75715e>//指向整型的指针
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>fp</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>float32</span> <span style=color:#75715e>//指向浮点型的指针
</span></span></span></code></pre></div><p>指针使用流程如下：</p><ul><li>定义指针变量</li><li>为指针变量赋值。</li><li>访问指针变量中指向地址的值。</li></ul><blockquote><p>获取指针指向的变量值：在指针类型的变量前加上<em>号，如</em>a。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>//声明实际变量
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#66d9ef>int</span> = <span style=color:#ae81ff>120</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//声明指针变量
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ip</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//给指针变量赋值，将变量a的地址赋给ip
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ip</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//打印ip的类型和值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;ip的类型是%T，值是%v \n&#34;</span>, <span style=color:#a6e22e>ip</span>, <span style=color:#a6e22e>ip</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//打印变量*ip的类型和值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;*ip变量的类型是%T，值是%v \n&#34;</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>ip</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>ip</span>)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s1</span> = <span style=color:#a6e22e>Student</span>{<span style=color:#e6db74>&#34;Steven&#34;</span>, <span style=color:#ae81ff>35</span>, <span style=color:#66d9ef>true</span>, <span style=color:#ae81ff>1</span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s2</span> = <span style=color:#a6e22e>Student</span>{<span style=color:#e6db74>&#34;Sunny&#34;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#66d9ef>false</span>, <span style=color:#ae81ff>0</span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Student</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s1</span> <span style=color:#75715e>//将s1的内存地址赋值给Student指针变量a
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Student</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s2</span> <span style=color:#75715e>//将s2的内存地址赋值给Student指针变量b
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>s1</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>s1</span>.<span style=color:#a6e22e>age</span>, <span style=color:#a6e22e>s1</span>.<span style=color:#a6e22e>married</span>, <span style=color:#a6e22e>s1</span>.<span style=color:#a6e22e>sex</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>age</span>, <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>married</span>, <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>sex</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>s2</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>s2</span>.<span style=color:#a6e22e>age</span>, <span style=color:#a6e22e>s2</span>.<span style=color:#a6e22e>married</span>, <span style=color:#a6e22e>s2</span>.<span style=color:#a6e22e>sex</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>age</span>, <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>married</span>, <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>sex</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>((<span style=color:#f92672>*</span><span style=color:#a6e22e>a</span>).<span style=color:#a6e22e>name</span>, (<span style=color:#f92672>*</span><span style=color:#a6e22e>a</span>).<span style=color:#a6e22e>age</span>, (<span style=color:#f92672>*</span><span style=color:#a6e22e>a</span>).<span style=color:#a6e22e>married</span>, (<span style=color:#f92672>*</span><span style=color:#a6e22e>a</span>).<span style=color:#a6e22e>sex</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>((<span style=color:#f92672>*</span><span style=color:#a6e22e>b</span>).<span style=color:#a6e22e>name</span>, (<span style=color:#f92672>*</span><span style=color:#a6e22e>b</span>).<span style=color:#a6e22e>age</span>, (<span style=color:#f92672>*</span><span style=color:#a6e22e>b</span>).<span style=color:#a6e22e>married</span>, (<span style=color:#f92672>*</span><span style=color:#a6e22e>b</span>).<span style=color:#a6e22e>sex</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>name</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>age</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>married</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>sex</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>name</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>age</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>married</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>sex</span>)
</span></span></code></pre></div><h3 id=空指针>空指针</h3><blockquote><p>当一个指针被定义后没有分配到任何变量时，它的值为nil。nil指针也成为空指针。nil在概念上和其他语言的 null、None、NULL一样，都指代零值或空值。</p></blockquote><p>假设指针变量命名为ptr。空指针判断如下。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>ptr</span> <span style=color:#f92672>!=</span><span style=color:#66d9ef>nil</span>)  <span style=color:#75715e>//ptr不是空指针
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>ptr</span><span style=color:#f92672>==</span><span style=color:#66d9ef>nil</span>) <span style=color:#75715e>//ptr是空指针
</span></span></span></code></pre></div><h3 id=使用指针>使用指针</h3><p><strong>通过指针修改变量的值</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>3158</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span><span style=color:#f92672>*</span><span style=color:#a6e22e>a</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;b的新值：&#34;</span>, <span style=color:#a6e22e>b</span>)
</span></span></code></pre></div><h3 id=指针的指针>指针的指针</h3><blockquote><p>如果一个指针变量存放的又是另一个指针变量的地址，则称这个指针变量为指向指针的指针变量。当定义一个指向指针的指针变量
时，第一个指针存放第第二个指针的地址，第二个指针存放变量的地址。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>指向指针的指针变量声明格式如下。
</span></span><span style=display:flex><span>var ptr **int
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>以上指向指针的指针变量为整型。
</span></span><span style=display:flex><span>访问指向指针的指针变量值需要使用两个*号。
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ptr</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>pptr</span> <span style=color:#f92672>**</span><span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>a</span> = <span style=color:#ae81ff>1234</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 指针ptr地址 */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ptr</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;ptr&#34;</span>, <span style=color:#a6e22e>ptr</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>/*指向指针ptr的地址*/</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>pptr</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>ptr</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;pptr&#34;</span>, <span style=color:#a6e22e>ptr</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>/*获取pptr的值*/</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;变量a=%d\n&#34;</span>, <span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;指针变量 *ptr=%d\n&#34;</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>ptr</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;指向指针的指针变量**ptr=%d\n&#34;</span>, <span style=color:#f92672>**</span><span style=color:#a6e22e>pptr</span>)
</span></span></code></pre></div><h1 id=第二部分-提升>第二部分 提升</h1><h2 id=编译>编译</h2><pre tabindex=0><code class=language-commandline data-lang=commandline>go build hello.go
</code></pre><h3 id=windows编译linux可执行文件>Windows编译Linux可执行文件</h3><pre tabindex=0><code class=language-commandline data-lang=commandline>set GOARCH=amd64
set GOOS=linux
go build
</code></pre><blockquote><p>完成后记得设置回来set GOOS=windows</p></blockquote><p><em>注意</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>部分情况下交叉编译可能失败，原因是某些代码引用的包只能在特定操作系统上使用
</span></span></code></pre></div><blockquote><p>解决办法：尽量统一开发环境，提前发现问题</p></blockquote><h3 id=编译为dll文件>编译为DLL文件</h3><blockquote><p>注意函数的注释:导出的间距是特定的,在//和export文本之间不应该有空格:
好像不能加注释</p></blockquote><pre tabindex=0><code class=language-commandline data-lang=commandline>go build -buildmode=c-shared -o mylib.dll file.go
</code></pre><blockquote><p>编译后得到一个file.dll和file.h两个文件</p></blockquote><h4 id=返回字符串>返回字符串</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>//export ReturnString
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ReturnString</span>(<span style=color:#a6e22e>val</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>C</span>.<span style=color:#a6e22e>char</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cname</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>net</span>.<span style=color:#a6e22e>LookupCNAME</span>(<span style=color:#a6e22e>val</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>C</span>.<span style=color:#a6e22e>CString</span>(<span style=color:#e6db74>&#34;Could not find CNAME&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>C</span>.<span style=color:#a6e22e>CString</span>(<span style=color:#a6e22e>cname</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=返回数值>返回数值</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>//export ReturnInt
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ReturnInt</span>(<span style=color:#a6e22e>val</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>val</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=传入数组>传入数组</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#75715e>//export Example
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Example</span>(<span style=color:#a6e22e>cArray</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>C</span>.<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>cSize</span> <span style=color:#a6e22e>C</span>.<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>i</span> <span style=color:#a6e22e>C</span>.<span style=color:#66d9ef>int</span>) <span style=color:#a6e22e>C</span>.<span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gSlice</span> <span style=color:#f92672>:=</span> (<span style=color:#f92672>*</span>[<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>30</span>]<span style=color:#a6e22e>C</span>.<span style=color:#66d9ef>int</span>)(<span style=color:#a6e22e>unsafe</span>.<span style=color:#a6e22e>Pointer</span>(<span style=color:#a6e22e>cArray</span>))[:<span style=color:#a6e22e>cSize</span>:<span style=color:#a6e22e>cSize</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>gSlice</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=最佳实践>最佳实践</h1><h2 id=日志>日志</h2><blockquote><p>通过标准包log实现。</p></blockquote><blockquote><p>包提供了一个预定义的“标准”Logger，可以通过辅助函数Print[f|ln]、Fatal[f|ln]和Panic[f|ln]访问。
和fmt包不同的是，日志开头会带上时间信息。</p></blockquote><blockquote><p>log没有提供日志级别，可以通过prefix属性区分不同等级日志，另外的方法是使用第三方日志框架。</p></blockquote><p>设置日志格式:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>SetFlags</span>(<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Llongfile</span>| <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>LstdFlags</span>)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>const</span> (
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 字位共同控制输出日志信息的细节。不能控制输出的顺序和格式。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 在所有项目后会有一个冒号：2009/01/23 01:23:23.123123 /a/b/c/d.go:23: message
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Ldate</span>         = <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#66d9ef>iota</span>     <span style=color:#75715e>// 日期：2009/01/23
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Ltime</span>                         <span style=color:#75715e>// 时间：01:23:23
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Lmicroseconds</span>                 <span style=color:#75715e>// 微秒分辨率：01:23:23.123123（用于增强Ltime位）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Llongfile</span>                     <span style=color:#75715e>// 文件全路径名+行号： /a/b/c/d.go:23
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Lshortfile</span>                    <span style=color:#75715e>// 文件无路径名+行号：d.go:23（会覆盖掉Llongfile）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>LstdFlags</span>     = <span style=color:#a6e22e>Ldate</span> | <span style=color:#a6e22e>Ltime</span> <span style=color:#75715e>// 标准logger的初始值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>)
</span></span></code></pre></div><h3 id=写入到文件>写入到文件</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#a6e22e>logFile</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>OpenFile</span>(<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>O_RDWR</span>|<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>O_CREATE</span>|<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>O_APPEND</span>, <span style=color:#ae81ff>0766</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>	panic(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>logger</span> = <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>New</span>(<span style=color:#a6e22e>logFile</span>, <span style=color:#e6db74>&#34;[MAIN]&#34;</span>, <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>LstdFlags</span>|<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Lshortfile</span>) <span style=color:#75715e>// 将文件设置为loger作为输出
</span></span></span></code></pre></div><h3 id=fatal和panic的区别>Fatal()和Panic()的区别</h3><blockquote><p>原文链接https://www.jianshu.com/p/f85ecae6e7df</p></blockquote><ul><li>Fatal()的动作<ul><li>打印输出内容</li><li>退出应用程序</li><li>defer函数不会执行</li></ul></li><li>Panic()的动作<ul><li>函数立刻停止执行 (注意是函数本身，不是应用程序停止)</li><li>defer函数被执行</li><li>返回给调用者(caller)</li><li>调用者函数假装也收到了一个panic函数，从而<ul><li>立即停止执行当前函数</li><li>它defer函数被执行</li><li>返回给它的调用者(caller)</li></ul></li><li>(递归重复上述步骤，直到最上层函数)</li><li>应用程序停止。</li><li>panic的行为</li></ul></li></ul><h2 id=单元测试-1>单元测试</h2><blockquote><p>标准库testing 提供对 Go 包的自动化测试的支持。</p></blockquote><h3 id=基准测试>基准测试</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>基准测试，是一种测试代码性能的方法，比如你有多种不同的方案，都可以解决问题，那么到底是那种方案性能更好呢？这时候基准测试就派上用场了。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>基准测试主要是通过测试CPU和内存的效率问题，来评估被测试代码的性能，进而找到更好的解决方案。比如链接池的数量不是越多越好，那么哪个值才是最优值呢，
</span></span><span style=display:flex><span>这就需要配合基准测试不断调优了。
</span></span></code></pre></div><p><strong>不错的资料</strong>: <a href=https://www.cnblogs.com/saryli/p/11406937.html>https://www.cnblogs.com/saryli/p/11406937.html</a></p><h3 id=gomock>gomock</h3><blockquote><p><a href=https://gitee.com/luzhenxiong/devdoc/blob/master/%E5%90%8E%E7%AB%AF/awesome/go/gomock>https://gitee.com/luzhenxiong/devdoc/blob/master/%E5%90%8E%E7%AB%AF/awesome/go/gomock</a></p></blockquote><h1 id=常见问题>常见问题</h1><h2 id=执行路径问题>执行路径问题</h2><blockquote><p><a href=https://zhuanlan.zhihu.com/p/363714760>https://zhuanlan.zhihu.com/p/363714760</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Python很容易确定该执行文件所在目录，但Go在go run下执行和go build下执行程序，获取到的执行路径不一定一致！
</span></span></code></pre></div><h1 id=优秀源码案例学习>优秀源码案例学习</h1><ul><li><p>chromedp</p><ul><li><p>设置默认值</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>chromedp/allocate.go(line53): DefaultExecAllocatorOptions
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>DefaultExecAllocatorOptions</span> = [<span style=color:#f92672>...</span>]<span style=color:#a6e22e>ExecAllocatorOption</span>{
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>NoFirstRun</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>NoDefaultBrowserCheck</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Headless</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// After Puppeteer&#39;s default behavior.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-background-networking&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;enable-features&#34;</span>, <span style=color:#e6db74>&#34;NetworkService,NetworkServiceInProcess&#34;</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-background-timer-throttling&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-backgrounding-occluded-windows&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-breakpad&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-client-side-phishing-detection&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-default-apps&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-dev-shm-usage&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-extensions&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-features&#34;</span>, <span style=color:#e6db74>&#34;site-per-process,TranslateUI,BlinkGenPropertyTrees&#34;</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-hang-monitor&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-ipc-flooding-protection&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-popup-blocking&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-prompt-on-repost&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-renderer-backgrounding&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;disable-sync&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;force-color-profile&#34;</span>, <span style=color:#e6db74>&#34;srgb&#34;</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;metrics-recording-only&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;safebrowsing-disable-auto-update&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;enable-automation&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;password-store&#34;</span>, <span style=color:#e6db74>&#34;basic&#34;</span>),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Flag</span>(<span style=color:#e6db74>&#34;use-mock-keychain&#34;</span>, <span style=color:#66d9ef>true</span>),
</span></span></code></pre></div></li></ul><p>}</p><pre tabindex=0><code>  - 初始化默认值参数
  ```text
  chromedp/allocate.go(line37): setupExecAllocator
</code></pre><ul><li>修改默认值参数<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>chromedp/allocate.go(line85): NewExecAllocator的opts可选参数
</span></span></code></pre></div></li></ul></li></ul><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/go-blog/zh/docker/gui/ title=在容器运行图形化软件><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/go-blog/zh/golang/faq/ title=Faq style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/go-blog/js/clipboard.min.js?1656565398></script>
<script src=/go-blog/js/perfect-scrollbar.min.js?1656565398></script>
<script src=/go-blog/js/perfect-scrollbar.jquery.min.js?1656565398></script>
<script src=/go-blog/js/jquery.sticky.js?1656565398></script>
<script src=/go-blog/js/featherlight.min.js?1656565398></script>
<script src=/go-blog/js/highlight.pack.js?1656565398></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/go-blog/js/modernizr.custom-3.6.0.js?1656565398></script>
<script src=/go-blog/js/learn.js?1656565398></script>
<script src=/go-blog/js/hugo-learn.js?1656565398></script>
<script src=/go-blog/mermaid/mermaid.js?1656565398></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>