<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.99.1" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title> &middot; My New Hugo Site</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://paradox-lab.github.io/go-blogcss/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://paradox-lab.github.io/go-blogcss/poole.css">
  <link type="text/css" rel="stylesheet" href="https://paradox-lab.github.io/go-blogcss/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://paradox-lab.github.io/go-blogcss/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  
</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://paradox-lab.github.io/go-blog"><h1>My New Hugo Site</h1></a>
      <p class="lead">
      An elegant open source and mobile first theme for <a href="http://hugo.spf13.com">hugo</a> made by <a href="http://twitter.com/mdo">@mdo</a>. Originally made for Jekyll.
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://paradox-lab.github.io/go-blog">Home</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2022. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1></h1>
  <time datetime=0001-01-01T00:00:00Z class="post-date">Mon, Jan 1, 0001</time>
  <h1 id="go">Go</h1>
<h2 id="包管理">包管理</h2>
<p><strong>wiki</strong> <a href="https://github.com/golang/go/wiki/Modules">https://github.com/golang/go/wiki/Modules</a></p>
<p>工程目录结构参考</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>go.mod
</span></span><span style="display:flex;"><span>go.sum
</span></span><span style="display:flex;"><span>repo\main.go
</span></span><span style="display:flex;"><span>     myPackage\myCode.go
</span></span><span style="display:flex;"><span>     util.go &#39;package repo
</span></span><span style="display:flex;"><span>     util_test.go
</span></span></code></pre></div><p>::: tip
每个包最多只能存在一个main.go文件
:::</p>
<hr>
<h3 id="初始化">初始化</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>go mod init github.com/my/repo
</span></span></code></pre></div><p>如果不放远程仓库，可以省略仓库地址</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>go mod init repo
</span></span></code></pre></div><p>自动增加模块依赖和sums</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>go mod tidy
</span></span></code></pre></div><h3 id="引用自定义包">引用自定义包</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;repo/repo/myPackage&#34;</span>
</span></span></code></pre></div><h3 id="gomod">go.mod</h3>
<p>go.mod文件的4个关键字</p>
<ul>
<li>module语句指定包的名字（路径）</li>
<li>require语句指定的依赖项模块</li>
<li>replace语句可以替换依赖项模块</li>
<li>exclude语句可以忽略依赖项模块</li>
</ul>
<p>引入自定义包(不在项目内)</p>
<p>项目A引入自定义包B</p>
<p>A项目的main.go</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;B/core/management&#34;</span>
</span></span></code></pre></div><p>A项目的go.mod需要加入以下内容</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>require B v0.0.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>replace B =&gt; E:\godjan\B
</span></span></code></pre></div><p>::: tip
replace 改用相对路径也可以
:::</p>
<h3 id="go命令行">go命令行</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">go</span> <span style="color:#a6e22e">generate</span>
</span></span></code></pre></div><p>使用go mod并安装go依赖包</p>
<h2 id="单元测试">单元测试</h2>
<p>:标准库单元测试学习进度: archive/tar/tar_test.go</p>
<hr>
<p>单元测试函数的定义一</p>
<ul>
<li>创建一个名称以 _test.go 结尾的文件</li>
<li>文件包含 <code>TestXxx</code> 函数</li>
</ul>
<p>单元测试函数的定义二</p>
<ul>
<li>package名以 _test 为结尾的文件</li>
<li>这个文件的函数</li>
</ul>
<p>例子: archive/tar/example_test.go</p>
<p>运行go test命令将运行编写好的单元测试函数</p>
<h3 id="测试函数运行子测试">测试函数运行子测试</h3>
<p>使用T.Run方法，参考例子: archive/tar/reader_test.go line:622</p>
<h3 id="并行测试">并行测试</h3>
<p>测试函数第一行加上 <code>t.Parallel()</code></p>
<p>使用案例: chromedp/eval_test.go的TestEvaluateNumber函数</p>
<hr>
<h3 id="设计模式">设计模式</h3>
<p>数据驱动测试，可参考 archive/tar/reader_test.go</p>
<h2 id="linux下载和安装">linux下载和安装</h2>
<blockquote>
<p>下载地址: <a href="https://golang.google.cn/doc/install">https://golang.google.cn/doc/install</a></p>
</blockquote>
<p><code>export PATH=$PATH:/usr/local/go/bin</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>假设是WSL的子系统使用Go，下载linux版Go安装包，接着按照教程做即可。
</span></span></code></pre></div><p><strong>升级</strong></p>
<blockquote>
<p>例如1.16.4升级1.16.5</p>
</blockquote>
<pre tabindex="0"><code class="language-commandline" data-lang="commandline">go get golang.org/dl/go1.16.5
go1.16.5 download
</code></pre><p>从16升级到17同理</p>
<blockquote>
<p>执行download命令时如果提示go1.16.5文件不存在，先切换至gopath变量的bin目录下执行</p>
</blockquote>
<h2 id="修改国内源">修改国内源</h2>
<p>windos</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>然后我们需要进行更改Go的GOPROXY值
</span></span><span style="display:flex;"><span>go env -w GOPROXY=https://goproxy.cn,direct
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SETX来设置一下Windows的环境变量
</span></span><span style="display:flex;"><span>SETX GOPROXY=https://goproxy.cn,direct
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>接下来就可以正常使用了
</span></span><span style="display:flex;"><span>go get -v github.com/astaxie/beego
</span></span></code></pre></div><p>linux</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ export GOPROXY=https://goproxy.cn
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>或者
</span></span><span style="display:flex;"><span>$ echo &#34;export GO111MODULE=on&#34; &gt;&gt; ~/.profile
</span></span><span style="display:flex;"><span>$ echo &#34;export GOPROXY=https://goproxy.cn&#34; &gt;&gt; ~/.profile
</span></span><span style="display:flex;"><span>$ source ~/.profile
</span></span></code></pre></div><h2 id="项目工程结构">项目工程结构</h2>
<p>sample</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>README.md
</span></span><span style="display:flex;"><span>LICENSE
</span></span><span style="display:flex;"><span>go.mod
</span></span><span style="display:flex;"><span>go.sum
</span></span><span style="display:flex;"><span>main.go
</span></span><span style="display:flex;"><span>util.go &#39;package main
</span></span><span style="display:flex;"><span>util_test.go
</span></span><span style="display:flex;"><span>sample/sample.go &#39;package sample
</span></span><span style="display:flex;"><span>      /test_sample.go 
</span></span><span style="display:flex;"><span>      /other/main.go &#39;package main 可直接go run或者go build(go build后的可执行文件需要放置在go.mod所在目录下执行)
</span></span><span style="display:flex;"><span>                     
</span></span></code></pre></div><blockquote>
<p>执行:sample/other/main.go</p>
</blockquote>
<pre tabindex="0"><code class="language-commandline" data-lang="commandline">go run sample/other/main.go
</code></pre><h1 id="第一部分-语法基础">第一部分 语法基础</h1>
<h2 id="25个关键字">25个关键字</h2>
<h3 id="chan信道">chan(信道)</h3>
<blockquote>
<p>信道是带有类型的管道，你可以通过它用信道操作符 &lt;- 来发送或者接收值。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#a6e22e">ch</span> <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">v</span>    <span style="color:#75715e">// 将 v 发送至信道 ch。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">ch</span>  <span style="color:#75715e">// 从 ch 接收值并赋予 v。
</span></span></span></code></pre></div><blockquote>
<p>“箭头”就是数据流的方向。</p>
</blockquote>
<p><strong>创建chan</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#75715e">// 双项通道，支持读写
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">ch</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 单项通道，只能读
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ch_read</span> <span style="color:#f92672">&lt;-</span><span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 单项通道，只能写
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ch_write</span> <span style="color:#66d9ef">chan</span><span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">int</span>
</span></span></code></pre></div><blockquote>
<p>定义只读和只写的channel意义不大，一般用于在参数传递中</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>默认情况下，发送和接收操作在另一端准备好之前都会阻塞。
</span></span><span style="display:flex;"><span>这使得 Go 程可以在没有显式的锁或竞态变量的情况下进行同步。
</span></span></code></pre></div><p><strong>遍历chan</strong></p>
<blockquote>
<p>原文链接：https://blog.csdn.net/zhaominpro/article/details/77584534</p>
</blockquote>
<blockquote>
<p>读channel时，第二个值返回为false时表示channel被关闭。</p>
</blockquote>
<p>方法一:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">for</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">value</span>,<span style="color:#a6e22e">ok</span><span style="color:#f92672">:=&lt;-</span><span style="color:#a6e22e">ch</span>;<span style="color:#a6e22e">ok</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//do somthing
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }<span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;<span style="color:#75715e">//表示channel已经被关闭，退出循环
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>方法二:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#75715e">//range
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">ch</span><span style="color:#f92672">:=</span>make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">int</span> ,<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ch</span><span style="color:#f92672">&lt;-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ch</span><span style="color:#f92672">&lt;-</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ch</span><span style="color:#f92672">&lt;-</span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">:=</span><span style="color:#66d9ef">range</span> <span style="color:#a6e22e">ch</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#a6e22e">value</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出：123
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//然后会一直阻塞当前协程，如果在其他协程中调用了close(ch),那么就会跳出for range循环。这也就是for range的特别之处
</span></span></span></code></pre></div><h3 id="else">else</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span>   <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">age</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">18</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;成年人&#34;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;未成年&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h3 id="goto">goto</h3>
<blockquote>
<p>将控制转移到被标记的语句</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">C</span>, <span style="color:#a6e22e">c</span> <span style="color:#66d9ef">int</span> <span style="color:#75715e">//声明变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">C</span> = <span style="color:#ae81ff">1</span>        <span style="color:#75715e">/*这里不写入for循环是因为for语句执行之初会将C的值变为1，当goto A时for
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">	语句会重新执行（不是重新一轮循环） */</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">LOOP</span>:
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">c</span> &lt; <span style="color:#ae81ff">50</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">C</span><span style="color:#f92672">++</span> <span style="color:#75715e">//C=1不能写入for这里就不能写入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">c</span> = <span style="color:#ae81ff">2</span>; <span style="color:#a6e22e">c</span> &lt; <span style="color:#a6e22e">C</span>; <span style="color:#a6e22e">c</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">C</span><span style="color:#f92672">%</span><span style="color:#a6e22e">c</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>				<span style="color:#66d9ef">goto</span> <span style="color:#a6e22e">LOOP</span> <span style="color:#75715e">//若发现因子不是素数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%d \t&#34;</span>, <span style="color:#a6e22e">c</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="if">if</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>语句      描述
</span></span><span style="display:flex;"><span>if语句        if语句由一个布尔表达式后紧跟一个或多个语句组成
</span></span><span style="display:flex;"><span>if...else语句 if语句后可以使用可选的else语句，else语句中的表达式再布尔表达式为false时执行
</span></span><span style="display:flex;"><span>if嵌套语句      可以在if或else if语句中潜入一个或多个if或else if语句
</span></span></code></pre></div><p><strong>if语句</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>if 布尔表达式{
</span></span><span style="display:flex;"><span>    /* 在布尔表达式为true时执行 */
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">num</span><span style="color:#f92672">%</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">num</span>, <span style="color:#e6db74">&#34;偶数&#34;</span>)
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">num</span>, <span style="color:#e6db74">&#34;奇数&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>if&hellip;else语句</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>if 布尔表达式{
</span></span><span style="display:flex;"><span>    /* 在布尔表达式为true时执行 */
</span></span><span style="display:flex;"><span>} else if {
</span></span><span style="display:flex;"><span>    /* 在布尔表达式为true时执行 */
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>} else{
</span></span><span style="display:flex;"><span>    /* 在布尔表达式为false时执行 */
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">score</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">90</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;优秀&#34;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">score</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">80</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;良好&#34;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">score</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">70</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;中等&#34;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">score</span> &gt; <span style="color:#ae81ff">60</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;及格&#34;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">score</span> &lt; <span style="color:#ae81ff">60</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;不及格&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p><strong>特殊写法</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">num</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">10</span>; <span style="color:#a6e22e">num</span><span style="color:#f92672">%</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">num</span>, <span style="color:#e6db74">&#34;偶数&#34;</span>)
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">num</span>, <span style="color:#e6db74">&#34;奇数&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p>需要注意的是，num的定义在if里，那么只能够在该if&hellip;else语句块中使用，否则编译器会报错。</p>
</blockquote>
<h3 id="struct">struct</h3>
<blockquote>
<p>结构体是由一系列相同类型或不同类型的数据构成的数据集合。</p>
</blockquote>
<blockquote>
<p>结构体是值类型。因此，如果要修改值，需要赋值指针地址。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>type 类型名 struct{
</span></span><span style="display:flex;"><span>        成员属性1 类型1
</span></span><span style="display:flex;"><span>        成员属性2 类型2
</span></span><span style="display:flex;"><span>        成员属性3,成员属性4 类型 3
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>在使用结构体的过程中注意以下3点。</p>
<ul>
<li>类型名是标识结构体的名称，在同一个包内不能重复。</li>
<li>结构体的属性，也叫字段，必须唯一。</li>
<li>同类型的成员属性可以写在一行。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Teacher</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>  <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">sex</span>  <span style="color:#66d9ef">byte</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>实例化</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Emp</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>  <span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">sex</span>  <span style="color:#66d9ef">byte</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">emp1</span> <span style="color:#f92672">:=</span> new(<span style="color:#a6e22e">Emp</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">////////////////////////////
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>(<span style="color:#f92672">*</span><span style="color:#a6e22e">emp1</span>).<span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;David&#34;</span>
</span></span><span style="display:flex;"><span>(<span style="color:#f92672">*</span><span style="color:#a6e22e">emp1</span>).<span style="color:#a6e22e">age</span> = <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>(<span style="color:#f92672">*</span><span style="color:#a6e22e">emp1</span>).<span style="color:#a6e22e">sex</span> = <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 或
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">emp1</span>.<span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;David2&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">emp1</span>.<span style="color:#a6e22e">age</span> = <span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">emp1</span>.<span style="color:#a6e22e">sex</span> = <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p><strong>匿名结构体</strong></p>
<blockquote>
<p>匿名结构体就是没有名字的结构体。无需通过type关键字就可以直接使用。创建匿名结构体时，同时要创建对象。匿名结构体由结构体定义和键值
对初始化两部分组成。语法格式示例如下。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>变量名:=struct{
</span></span><span style="display:flex;"><span>//定义成员属性
</span></span><span style="display:flex;"><span>} {//初始化成员属性}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#75715e">//匿名结构体
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">addr</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">province</span>, <span style="color:#a6e22e">city</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}{<span style="color:#e6db74">&#34;山西省&#34;</span>, <span style="color:#e6db74">&#34;西安市&#34;</span>}
</span></span></code></pre></div><p><strong>匿名字段</strong></p>
<blockquote>
<p>匿名字段就是在结构体中的字段没有名字，只包含一个没有字段名的类型。这些字段被称为匿名字段。</p>
</blockquote>
<blockquote>
<p>如果字段没有名字，那么默认使用类型作为字段名，同一个类型只能有一个匿名字段。结构体嵌套中采用匿名结构体字段可以模拟继承关系。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">User</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">byte</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int8</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">float64</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//实例化结构体
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">user</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">User</span>{<span style="color:#e6db74">&#34;Steven&#34;</span>, <span style="color:#e6db74">&#39;m&#39;</span>, <span style="color:#ae81ff">35</span>, <span style="color:#ae81ff">177.5</span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">user</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">//如果想依次输出姓名、年龄、身高、性别
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;姓名：%s \n&#34;</span>, <span style="color:#a6e22e">user</span>.<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;身高：%.2f \n&#34;</span>, <span style="color:#a6e22e">user</span>.<span style="color:#66d9ef">float64</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;性别：%c \n&#34;</span>, <span style="color:#a6e22e">user</span>.<span style="color:#66d9ef">byte</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;年龄：%d \n&#34;</span>, <span style="color:#a6e22e">user</span>.<span style="color:#66d9ef">int8</span>)
</span></span></code></pre></div><p><strong>结构体嵌套</strong></p>
<blockquote>
<p>将一个结构体作为另一个结构体的属性(字段)，这种结构就是结构体嵌套。</p>
</blockquote>
<p>结构体嵌套可以模拟面向对象编程中的以下两种关系。</p>
<ul>
<li>聚合关系：一个类作为另一个类的属性。</li>
<li>继承关系：一个类作为另一个类的字类。子类和父类的关系。</li>
</ul>
<p><em>模拟聚合关系</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Address</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">province</span>, <span style="color:#a6e22e">city</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Person</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>    <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>     <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">address</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Address</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//模拟结构体对象之间的聚合关系
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Person</span>{}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;Steven&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">age</span> = <span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//赋值方式1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">addr</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Address</span>{}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">addr</span>.<span style="color:#a6e22e">province</span> = <span style="color:#e6db74">&#34;北京市&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">addr</span>.<span style="color:#a6e22e">city</span> = <span style="color:#e6db74">&#34;海淀区&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">address</span> = <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">addr</span>
</span></span></code></pre></div><p><em>模拟继承关系</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Person</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>  <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">sex</span>  <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Student</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Person</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">schoolName</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//1.实例化并初始化Person
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">p1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Person</span>{<span style="color:#e6db74">&#34;Steven&#34;</span>, <span style="color:#ae81ff">35</span>, <span style="color:#e6db74">&#34;男&#34;</span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">p1</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;-----------------&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">//2.实例化并初始化Student
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//写法1:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Student</span>{<span style="color:#a6e22e">p1</span>, <span style="color:#e6db74">&#34;北航软件学院&#34;</span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//写法2:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s2</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Student</span>{<span style="color:#a6e22e">Person</span>{<span style="color:#e6db74">&#34;Josh&#34;</span>, <span style="color:#ae81ff">30</span>, <span style="color:#e6db74">&#34;男&#34;</span>}, <span style="color:#e6db74">&#34;北外高翻学院&#34;</span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//写法3:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s3</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Student</span>{<span style="color:#a6e22e">Person</span>: <span style="color:#a6e22e">Person</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;Penn&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span>:  <span style="color:#ae81ff">19</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sex</span>:  <span style="color:#e6db74">&#34;男&#34;</span>,
</span></span><span style="display:flex;"><span>},
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">schoolName</span>: <span style="color:#e6db74">&#34;北大元培学院&#34;</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//写法4:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s4</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Student</span>{}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s4</span>.<span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;Daniel&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s4</span>.<span style="color:#a6e22e">sex</span> = <span style="color:#e6db74">&#34;男&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s4</span>.<span style="color:#a6e22e">age</span> = <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s4</span>.<span style="color:#a6e22e">schoolName</span> = <span style="color:#e6db74">&#34;北京十一龙樾&#34;</span>
</span></span></code></pre></div><p><strong>方法</strong>
和函数的区别</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>1.含义不同
</span></span><span style="display:flex;"><span>函数(function)是一段具有独立功能的代码，可以被反复多次调用，从而实现代码复用。而方法(method)是一个类的行为功能，只有该类的对象才能调用。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2.方法有接受者，而函数无接受者
</span></span><span style="display:flex;"><span>Go语言的方法(method)是一种作用于特定类型变量的函数。这种特定类型变量叫作接受者(receiver)。接收者的概念类似于传统面向对象语言中的this或
</span></span><span style="display:flex;"><span>self关键字。
</span></span><span style="display:flex;"><span>Go语言的接受者强调了方法具有作用对象，而函数没有作用对象。一个方法就是一个包含了接受者的函数。
</span></span><span style="display:flex;"><span>Go语言中，接受者可以是结构体，也可以是结构体类型外的其他任何类型。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>3.函数不可以重名，而方法可以重名。
</span></span><span style="display:flex;"><span>只要接受者不同，方法名就可以相同。
</span></span></code></pre></div><p>语法格式</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>func (接受者变量 接受者类型) 方法名(参数列表) (返回值列表) {
</span></span><span style="display:flex;"><span>//方法体
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p>接受者在func关键字和方法名之间编写，接受者可以是struct类型或非struct类型，可以是指针类型或非指针类型。接受者中的变量
在命名时，官方建议使用接受者类型的第一个小写字母。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Employee</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">currency</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">salary</span>         <span style="color:#66d9ef">float64</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">emp1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Employee</span>{<span style="color:#e6db74">&#34;Daniel&#34;</span>, <span style="color:#e6db74">&#34;$&#34;</span>, <span style="color:#ae81ff">2000</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">emp1</span>.<span style="color:#a6e22e">printSalary</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">printSalary</span>(<span style="color:#a6e22e">emp1</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//printSalary()方法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">e</span> <span style="color:#a6e22e">Employee</span>) <span style="color:#a6e22e">printSalary</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;员工姓名：%s，薪资：%s%.2f \n&#34;</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">currency</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">salary</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//printSalary函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">e</span> <span style="color:#a6e22e">Employee</span>) <span style="color:#a6e22e">printSalary</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;员工姓名：%s，薪资：%s%.2f \n&#34;</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">currency</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">salary</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p>若方法的接受者不是指针，实际只是获取了一个拷贝，而不能真正改变接受者中原来的数据。</p>
</blockquote>
<p><strong>方法继承</strong></p>
<blockquote>
<p>如果匿名字段实现了一个方法，那么包含这个匿名字段的struct也能调用该匿名字段中的方法。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Human</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">phone</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>         <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Student</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Human</span>  <span style="color:#75715e">//匿名字段
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">school</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Employee</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Human</span>   <span style="color:#75715e">//匿名字段
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">company</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">s1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Student</span>{<span style="color:#a6e22e">Human</span>{<span style="color:#e6db74">&#34;Daniel&#34;</span>, <span style="color:#e6db74">&#34;15012345***&#34;</span>, <span style="color:#ae81ff">13</span>}, <span style="color:#e6db74">&#34;十一中学&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">e1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Employee</span>{<span style="color:#a6e22e">Human</span>{<span style="color:#e6db74">&#34;Steven&#34;</span>, <span style="color:#e6db74">&#34;17812345***&#34;</span>, <span style="color:#ae81ff">35</span>}, <span style="color:#e6db74">&#34;1000phone&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">s1</span>.<span style="color:#a6e22e">SayHi</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">e1</span>.<span style="color:#a6e22e">SayHi</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">h</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Human</span>) <span style="color:#a6e22e">SayHi</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;大家好！我是%s,我%d岁，我的联系方式是：%s\n&#34;</span>, <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">phone</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>方法重写</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Human</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">phone</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>         <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Student</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Human</span>  <span style="color:#75715e">//匿名字段
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">school</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Employee</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Human</span>   <span style="color:#75715e">//匿名字段
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">company</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">s1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Student</span>{<span style="color:#a6e22e">Human</span>{<span style="color:#e6db74">&#34;Daniel&#34;</span>, <span style="color:#e6db74">&#34;15012345***&#34;</span>, <span style="color:#ae81ff">13</span>}, <span style="color:#e6db74">&#34;十一中学&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">e1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Employee</span>{<span style="color:#a6e22e">Human</span>{<span style="color:#e6db74">&#34;Steven&#34;</span>, <span style="color:#e6db74">&#34;17812345***&#34;</span>, <span style="color:#ae81ff">35</span>}, <span style="color:#e6db74">&#34;1000phone&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">s1</span>.<span style="color:#a6e22e">SayHi</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">e1</span>.<span style="color:#a6e22e">SayHi</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">h</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Human</span>) <span style="color:#a6e22e">SayHi</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;大家好！我是%s,我%d岁，联系方式：%s\n&#34;</span>, <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">phone</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">s</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Student</span>) <span style="color:#a6e22e">SayHi</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;大家好！我是%s,我%d岁，我在%s上学，联系方式：%s\n&#34;</span>, <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">school</span>, <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">phone</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">n</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Employee</span>) <span style="color:#a6e22e">SayHi</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;大家好！我是%s,我%d岁，我在%s工作，联系方式：%s\n&#34;</span>, <span style="color:#a6e22e">n</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">n</span>.<span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">n</span>.<span style="color:#a6e22e">company</span>, <span style="color:#a6e22e">n</span>.<span style="color:#a6e22e">phone</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="switch">switch</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>switch语句    switch语句用于基于不同条件执行不同动作
</span></span><span style="display:flex;"><span>select      select语句类似于switch语句，但是select会随机执行一个可运行的case。如果没有case可运行，
</span></span><span style="display:flex;"><span>        它将阻塞，直到有case可运行。
</span></span></code></pre></div><p>Go语言中switch语句的语法如下所示：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">var1</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">val1</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">val2</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p>switch语句执行的过程自上而下，直到找到case匹配项，匹配项中无须使用break，因为Go语言
中的switch默认给每个case自带break。因此匹配成功后不会向下执行其他的case分支，而是跳出
整个switch。可以添加fallthrough，强制执行后面的case分支。fallthrough必须放在case分支的
最后一行。如果它出现在中间的某个地方，编译器就会报错。</p>
</blockquote>
<blockquote>
<p>变量var1可以是任何类型，而val1和val2则可以是同类型的任意值。类型不局限于常量或整数，但
必须是相同类型或最终结果为相同类型的表达式。</p>
</blockquote>
<blockquote>
<p>case后的值不能重复，但可以同时测试多个符合条件的值，也就是说case后可以有多个值，这些值
之间使用逗号分隔，例如：case val1,val2,val3。</p>
</blockquote>
<blockquote>
<p>switch后的表达式可以省略，默认是switch true</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#75715e">/* 定义局部变量 */</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">grade</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">score</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">78.5</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">switch</span> { <span style="color:#75715e">//switch后面省略不写，默认相当于：switch true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">case</span> <span style="color:#a6e22e">score</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">90</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">grade</span> = <span style="color:#e6db74">&#34;A&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#a6e22e">score</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">80</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">grade</span> = <span style="color:#e6db74">&#34;B&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#a6e22e">score</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">70</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">grade</span> = <span style="color:#e6db74">&#34;C&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#a6e22e">score</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">60</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">grade</span> = <span style="color:#e6db74">&#34;D&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">grade</span> = <span style="color:#e6db74">&#34;E&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">grade</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;A&#34;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;优秀!\n&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;B&#34;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;良好\n&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;C&#34;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;中等\n&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;D&#34;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;及格\n&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;差\n&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/////////////////////////////
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">/* 定义局部变量 */</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">year</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">2008</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">month</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">days</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">month</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">days</span> = <span style="color:#ae81ff">31</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">11</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">days</span> = <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">year</span><span style="color:#f92672">%</span><span style="color:#ae81ff">4</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">year</span><span style="color:#f92672">%</span><span style="color:#ae81ff">100</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">||</span> <span style="color:#a6e22e">year</span><span style="color:#f92672">%</span><span style="color:#ae81ff">400</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">days</span> = <span style="color:#ae81ff">29</span>
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">days</span> = <span style="color:#ae81ff">28</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">days</span> = <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%d 年 %d 月的天数为: %d\n&#34;</span>, <span style="color:#a6e22e">year</span>, <span style="color:#a6e22e">month</span>, <span style="color:#a6e22e">days</span>)
</span></span></code></pre></div><p><strong>类型转换</strong></p>
<blockquote>
<p>switch语句还可以被用于type switch(类型转换)来判断某个interface变量中实际存储的变量类型。
下面演示type switch的语法。其语法结构如下所示：</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">x</span>.(<span style="color:#66d9ef">type</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#66d9ef">type</span>:
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">statement</span>(<span style="color:#a6e22e">s</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#66d9ef">type</span>:
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">statement</span>(<span style="color:#a6e22e">s</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* 你可以定义任意个数的case */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span>: <span style="color:#75715e">/* 可选 */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">statement</span>(<span style="color:#a6e22e">s</span>);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#75715e">// 判断interface变量中存储的变量类型。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#66d9ef">interface</span>{}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">x</span>.(<span style="color:#66d9ef">type</span>) {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#66d9ef">nil</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34; x 的类型:%T&#34;</span>, <span style="color:#a6e22e">i</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#66d9ef">int</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;x是int型&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#66d9ef">float64</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;x是float64型&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#66d9ef">func</span>(<span style="color:#66d9ef">int</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;x是func(int)型&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#66d9ef">bool</span>, <span style="color:#66d9ef">string</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;x是bool或string型&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;未知型&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="select">select</h3>
<blockquote>
<p><a href="http://tour.studygolang.com/concurrency/5">http://tour.studygolang.com/concurrency/5</a></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>select 语句使一个 Go 程可以等待多个通信操作。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>select 会阻塞到某个分支可以继续执行为止，这时就会执行该分支。当多个分支都准备好时会随机选择一个执行。
</span></span></code></pre></div><h3 id="type">type</h3>
<p><strong>类型别名</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>类型别名的语法格式如下。
</span></span><span style="display:flex;"><span>type 类型别名 = 类型
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#66d9ef">byte</span> = <span style="color:#66d9ef">uint8</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#66d9ef">rune</span> = <span style="color:#66d9ef">int32</span>
</span></span></code></pre></div><p><strong>类型定义</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>定义类型的语法格式如下。
</span></span><span style="display:flex;"><span>type 新的类型 类型
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">NewString</span> <span style="color:#66d9ef">string</span>
</span></span></code></pre></div><blockquote>
<p>该语句是将NewString定义为string类型。通过type关键字，NewString会形成一种新的类型。
NewString本身依然具备string的特性。</p>
</blockquote>
<blockquote>
<p>出于对程序性能的考虑，建议如下。</p>
</blockquote>
<ul>
<li>尽可能地使用：=去初始化声明一个变量(在函数内部)。</li>
<li>尽可能地使用字符代替字符串</li>
</ul>
<h2 id="数据类型">数据类型</h2>
<h3 id="复合数据类型">复合数据类型</h3>
<h4 id="array">array</h4>
<blockquote>
<p>数组是相同类型的一组数据构成的长度固定的序列，其中数据类型包含了基本数据类型、符合数据类型和自定义数据类型。
数组中的每一项被称为数组的元素。数组名是数组的唯一标识符，数组的每一个元素都是没有名字的，只能通过索引下标
(位置)进行访问。因为数组的内存是一段连续的存储区域，所以数组的检索速度是非常快的，但是数组也有一定的缺陷，就是定义
后长度不能更改。</p>
</blockquote>
<p><strong>声明</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>var 变量名 [数组长度] 数据类型
</span></span></code></pre></div><p><strong>多维数组</strong></p>
<blockquote>
<p>由于数据的复杂程度不一样，数组可能有多个下表。一般将数组元素下标的个数称为维数，根据维数，可将数组分为一维数组、
二维数组、三维数组、四维数组等。二维及以上的数组可称为多维数组。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>var variable_name [SIZE1][SIZE2]...[SIZEn] variable_type
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>二维数组的定义方式如下。
</span></span><span style="display:flex;"><span>var arrayName [x][y] variable_type
</span></span></code></pre></div><h4 id="interface">interface</h4>
<blockquote>
<p>接口是一组方法签名。接口指定了类型应该具有的方法，类型决定了如果实现这些方法。当某个类型行为接口中的所有方法提供了具体
的实现细节时，这个类型就被称为实现了该接口。接口定义了一组方法，如果某个对象实现了该接口的所有方法，则此对象就实现了该接口。</p>
</blockquote>
<blockquote>
<p>Go语言的类型都是隐式实现接口的。任何定义了接口中所有的方法的类型都被称为隐式地实现了该接口。</p>
</blockquote>
<p>定义接口的语法格式如下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>type 接口名字 interface{
</span></span><span style="display:flex;"><span>方法1([参数列表]) [返回值]
</span></span><span style="display:flex;"><span>方法2([参数列表]) [返回值]
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>方法n([参数列表]) [返回值]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>实现该接口方法的语法格式如下：
</span></span><span style="display:flex;"><span>func (变量名 结构体类型) 方法1([参数列表]) [返回值]{
</span></span><span style="display:flex;"><span>    //方法体
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>func (变量名 结构体类型) 方法2([参数列表]) [返回值]{
</span></span><span style="display:flex;"><span>    //方法体
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>func (变量名 结构体类型) 方法n([参数列表]) [返回值]{
</span></span><span style="display:flex;"><span>    //方法体
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Phone</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">call</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">AndroidPhone</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">IPhone</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">a</span> <span style="color:#a6e22e">AndroidPhone</span>) <span style="color:#a6e22e">call</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;我是安卓手机，可以打电话了&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">i</span> <span style="color:#a6e22e">IPhone</span>) <span style="color:#a6e22e">call</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;我是苹果手机，可以打电话了&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//定义接口类型的变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">phone</span> <span style="color:#a6e22e">Phone</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">phone</span> = new(<span style="color:#a6e22e">AndroidPhone</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T,%v,%p \n&#34;</span>, <span style="color:#a6e22e">phone</span>, <span style="color:#a6e22e">phone</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">phone</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">phone</span>.<span style="color:#a6e22e">call</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">phone</span> = <span style="color:#a6e22e">AndroidPhone</span>{}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T,%v,%p \n&#34;</span>, <span style="color:#a6e22e">phone</span>, <span style="color:#a6e22e">phone</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">phone</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">phone</span>.<span style="color:#a6e22e">call</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">phone</span> = new(<span style="color:#a6e22e">IPhone</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T,%v,%p \n&#34;</span>, <span style="color:#a6e22e">phone</span>, <span style="color:#a6e22e">phone</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">phone</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">phone</span>.<span style="color:#a6e22e">call</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">phone</span> = <span style="color:#a6e22e">IPhone</span>{}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T,%v,%p \n&#34;</span>, <span style="color:#a6e22e">phone</span>, <span style="color:#a6e22e">phone</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">phone</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">phone</span>.<span style="color:#a6e22e">call</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>关于duck typing</strong></p>
<ul>
<li>duck typing是描述事物的外部行为而非内部结构。</li>
<li>duck typing关注的不是对象的类型本身，而是它是如何使用的。</li>
</ul>
<blockquote>
<p>代码实现请参阅https://gitee.com/luzhenxiong/codes/hyds70ploebkifv9654z292</p>
</blockquote>
<p><strong>空接口</strong></p>
<blockquote>
<p>空接口中没有任何方法。任意类型都可以实现该接口。空接口这样定义：interface{}，也就是包含0个方法(method)的interface。
空接口可表示任意数据类型，类似于Java中的object。</p>
</blockquote>
<p>空接口常用于以下情形。</p>
<ul>
<li>println的参数就是空接口。</li>
<li>定义个map：key是string，value是任意数据类型。</li>
<li>定义一个切片，其中存储任意类型的数据。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">A</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Cat</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">age</span>  <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Person</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">sex</span>  <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a1</span> <span style="color:#a6e22e">A</span> = <span style="color:#a6e22e">Cat</span>{<span style="color:#e6db74">&#34;Mimi&#34;</span>, <span style="color:#ae81ff">1</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a2</span> <span style="color:#a6e22e">A</span> = <span style="color:#a6e22e">Person</span>{<span style="color:#e6db74">&#34;Steven&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a3</span> <span style="color:#a6e22e">A</span> = <span style="color:#e6db74">&#34;Learn golang with me!&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a4</span> <span style="color:#a6e22e">A</span> = <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a5</span> <span style="color:#a6e22e">A</span> = <span style="color:#ae81ff">3.14</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;-----------------&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//1.fmt.println参数就是空接口
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;println的参数就是空接口，可以是任何数据类型&#34;</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">3.14</span>, <span style="color:#a6e22e">Cat</span>{<span style="color:#e6db74">&#34;旺旺&#34;</span>, <span style="color:#ae81ff">2</span>})
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//2.定义map,value是任何数据类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">map1</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{})
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">map1</span>[<span style="color:#e6db74">&#34;name&#34;</span>] = <span style="color:#e6db74">&#34;Daniel&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">map1</span>[<span style="color:#e6db74">&#34;age&#34;</span>] = <span style="color:#ae81ff">13</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">map1</span>[<span style="color:#e6db74">&#34;height&#34;</span>] = <span style="color:#ae81ff">1.71</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">map1</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;-----------------&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//3.定义一个切片，其中存储任意数据类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">slice1</span> <span style="color:#f92672">:=</span> make([]<span style="color:#66d9ef">interface</span>{}, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">slice1</span> = append(<span style="color:#a6e22e">slice1</span>, <span style="color:#a6e22e">a1</span>, <span style="color:#a6e22e">a2</span>, <span style="color:#a6e22e">a3</span>, <span style="color:#a6e22e">a4</span>, <span style="color:#a6e22e">a5</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">slice1</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>接口对象类型</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">instance,ok:=接口对象.(实际类型)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">如果该接口对象是对应的实际类型，那么instance就是转型之后的对象，ok的值为true，配合
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">if...else if...语句使用。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">接口对象转型第二种方式示例如下。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">接口对象.(type)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//样例：接口对象转型。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;math&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//1.定义接口
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Shape</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">perimeter</span>() <span style="color:#66d9ef">float64</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">area</span>() <span style="color:#66d9ef">float64</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//2.矩形
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Rectangle</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span> <span style="color:#66d9ef">float64</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//3.三角形
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Triangle</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">c</span> <span style="color:#66d9ef">float64</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//4.圆形
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Circle</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">radius</span> <span style="color:#66d9ef">float64</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//定义实现接口的方法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">r</span> <span style="color:#a6e22e">Rectangle</span>) <span style="color:#a6e22e">perimeter</span>() <span style="color:#66d9ef">float64</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> (<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">b</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">r</span> <span style="color:#a6e22e">Rectangle</span>) <span style="color:#a6e22e">area</span>() <span style="color:#66d9ef">float64</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">b</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">t</span> <span style="color:#a6e22e">Triangle</span>) <span style="color:#a6e22e">perimeter</span>() <span style="color:#66d9ef">float64</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">b</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">c</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">t</span> <span style="color:#a6e22e">Triangle</span>) <span style="color:#a6e22e">area</span>() <span style="color:#66d9ef">float64</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//海伦公式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">perimeter</span>() <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span> <span style="color:#75715e">//半周长
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Sqrt</span>(<span style="color:#a6e22e">p</span> <span style="color:#f92672">*</span> (<span style="color:#a6e22e">p</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">a</span>) <span style="color:#f92672">*</span> (<span style="color:#a6e22e">p</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">b</span>) <span style="color:#f92672">*</span> (<span style="color:#a6e22e">p</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">c</span>))
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#a6e22e">Circle</span>) <span style="color:#a6e22e">perimeter</span>() <span style="color:#66d9ef">float64</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pi</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">radius</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#a6e22e">Circle</span>) <span style="color:#a6e22e">area</span>() <span style="color:#66d9ef">float64</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pow</span>(<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">radius</span>, <span style="color:#ae81ff">2</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pi</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//接口对象转型方式1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//instance,ok:=接口对象.(实际类型)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getType</span>(<span style="color:#a6e22e">s</span> <span style="color:#a6e22e">Shape</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">instance</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">s</span>.(<span style="color:#a6e22e">Rectangle</span>); <span style="color:#a6e22e">ok</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;矩形：长度%.2f,宽度%.2f,&#34;</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">b</span>)
</span></span><span style="display:flex;"><span>	} <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">instance</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">s</span>.(<span style="color:#a6e22e">Triangle</span>); <span style="color:#a6e22e">ok</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;三角形：三边分别：%.2f,%.2f,%.2f,&#34;</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">c</span>)
</span></span><span style="display:flex;"><span>	} <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">instance</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">s</span>.(<span style="color:#a6e22e">Circle</span>); <span style="color:#a6e22e">ok</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;圆形：半径%.2f,&#34;</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">radius</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//接口对象.(type)，配合switch和case语句使用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getType2</span>(<span style="color:#a6e22e">s</span> <span style="color:#a6e22e">Shape</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">instance</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">s</span>.(<span style="color:#66d9ef">type</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Rectangle</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;矩形：长度为%.2f，宽为%.2f,\t&#34;</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">b</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Triangle</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;三角形：三边分别为%.2f,%.2f,%.2f,\t&#34;</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">c</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Circle</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;圆形：半径为%.2f,\t&#34;</span>, <span style="color:#a6e22e">instance</span>.<span style="color:#a6e22e">radius</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getResult</span>(<span style="color:#a6e22e">s</span> <span style="color:#a6e22e">Shape</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">getType2</span>(<span style="color:#a6e22e">s</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;周长：%.2f，面积:%.2f \n&#34;</span>, <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">perimeter</span>(), <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">area</span>())
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#a6e22e">Shape</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">s</span> = <span style="color:#a6e22e">Rectangle</span>{<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">getResult</span>(<span style="color:#a6e22e">s</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">showInfo</span>(<span style="color:#a6e22e">s</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">s</span> = <span style="color:#a6e22e">Triangle</span>{<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">getResult</span>(<span style="color:#a6e22e">s</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">showInfo</span>(<span style="color:#a6e22e">s</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">s</span> = <span style="color:#a6e22e">Circle</span>{<span style="color:#ae81ff">1</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">getResult</span>(<span style="color:#a6e22e">s</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">showInfo</span>(<span style="color:#a6e22e">s</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">x</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Triangle</span>{<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">x</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">t</span> <span style="color:#a6e22e">Triangle</span>) <span style="color:#a6e22e">String</span>() <span style="color:#66d9ef">string</span> { <span style="color:#75715e">//实现了系统接口，最后的打印部分会改变
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;Triangle对象，属性分别为：%.2f,%.2f,%.2f&#34;</span>, <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">c</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">showInfo</span>(<span style="color:#a6e22e">s</span> <span style="color:#a6e22e">Shape</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T,%v \n&#34;</span>, <span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">s</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;----------------&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="类型转换">类型转换</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>1.基本语法
</span></span><span style="display:flex;"><span>Go语言采用数据类型前置加括号的方式进行类型转换，格式如：T(表达式)。T表示要转换的类型；表达式包括变量、
</span></span><span style="display:flex;"><span>数值、函数返回值等。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>类型转换时，需要考虑两种类型之间的关系和范围，是否会发生数值截断。值得注意的是，布尔型无法与其他类型
</span></span><span style="display:flex;"><span>进行转换。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>使用示例如下：
</span></span><span style="display:flex;"><span>var a int = 100
</span></span><span style="display:flex;"><span>b:=float64(a)  //将int型转换成float64型
</span></span><span style="display:flex;"><span>c:=string(a)    //将int型转换成string型
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2.浮点型与整型之间转换
</span></span><span style="display:flex;"><span>float和int的类型精度不同，使用时需要注意float转int时精度的损失。
</span></span><span style="display:flex;"><span>具体的使用方法：
</span></span><span style="display:flex;"><span>package main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>import &#34;fmt&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>func main() {
</span></span><span style="display:flex;"><span>	chinese := 90
</span></span><span style="display:flex;"><span>	english := 80.9
</span></span><span style="display:flex;"><span>	avg := (chinese + int(english)) / 2
</span></span><span style="display:flex;"><span>	avg2 := (float64(chinese) + english) / 2
</span></span><span style="display:flex;"><span>	fmt.Printf(&#34;%T,%d\n&#34;, avg, avg)
</span></span><span style="display:flex;"><span>	fmt.Printf(&#34;%T, %f\n&#34;, avg2, avg2)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>运行结果：
</span></span><span style="display:flex;"><span>int,85
</span></span><span style="display:flex;"><span>float64, 85.450000
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>3.整型转字符串类型
</span></span><span style="display:flex;"><span>这种类型的转换，其实相当于byte或rune转string。int数值是ASCII码的编号或unicode字符集的编号，转成
</span></span><span style="display:flex;"><span>string就是根据字符集，将对应编号的字符查出来。当该数值超出unicode编号范围，则转成的字符串显示为
</span></span><span style="display:flex;"><span>乱码。例如，19968转string，就是&#39;一&#39;。
</span></span><span style="display:flex;"><span>备注：
</span></span><span style="display:flex;"><span>·ASCII字符集中数字的十进制范围是48~57;
</span></span><span style="display:flex;"><span>·ASCII字符集中大写字母的十进制范围是65~90；
</span></span><span style="display:flex;"><span>·ASCII字符集中小写字母的十进制范围是97~122；
</span></span><span style="display:flex;"><span>·unicode字符集中汉字的范围是4e00~9fa5，十进制范围是19968~40869。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>具体的使用方法：
</span></span><span style="display:flex;"><span>package main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>import &#34;fmt&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>func main() {
</span></span><span style="display:flex;"><span>	a := 97
</span></span><span style="display:flex;"><span>	x := 19968
</span></span><span style="display:flex;"><span>	result := string(a)
</span></span><span style="display:flex;"><span>	fmt.Println(result)
</span></span><span style="display:flex;"><span>	result = string(x)
</span></span><span style="display:flex;"><span>	fmt.Println(result)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>运行结果：
</span></span><span style="display:flex;"><span>a
</span></span><span style="display:flex;"><span>一
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>注意：在Go语言中，不允许字符串转int。
</span></span></code></pre></div><h2 id="运算符">运算符</h2>
<h3 id="算数运算符">算数运算符</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>运算符	描述	
</span></span><span style="display:flex;"><span>+	相加	
</span></span><span style="display:flex;"><span>-	相减
</span></span><span style="display:flex;"><span>*	相减
</span></span><span style="display:flex;"><span>/	相除
</span></span><span style="display:flex;"><span>%	求余
</span></span><span style="display:flex;"><span>++	自增
</span></span><span style="display:flex;"><span>--	自减
</span></span></code></pre></div><h3 id="关系运算符">关系运算符</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>运算符：
</span></span><span style="display:flex;"><span>==
</span></span><span style="display:flex;"><span>!=
</span></span><span style="display:flex;"><span>&gt;
</span></span><span style="display:flex;"><span>&lt;
</span></span><span style="display:flex;"><span>&gt;=
</span></span><span style="display:flex;"><span>&lt;=
</span></span></code></pre></div><h3 id="逻辑运算符">逻辑运算符</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>运算符	描述
</span></span><span style="display:flex;"><span>&amp;&amp;	逻辑AND运算符。如果两边的操作数都是True，则条件为True，否则为False
</span></span><span style="display:flex;"><span>||	逻辑OR运算符。如果两边的操作数有一个True，则条件True，否则为False
</span></span><span style="display:flex;"><span>!	逻辑NOT运算符。如果条件为True，则逻辑NOT条件False，否则为True。
</span></span></code></pre></div><h3 id="位运算符">位运算符</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>位运算符对整数在内存中的二进制位进行操作。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>位运算符比一般的算术运算符速度要快，而且可以实现一些算术运算符不能实现的功能。如果要开发高效率程序，
</span></span><span style="display:flex;"><span>位运算符是必不可少的。位运算符用来对二进制位进行操作，包括：按位与(&amp;)、按位或(|)、按位异或(^)、
</span></span><span style="display:flex;"><span>按位左移(&lt;&lt;)、按位右移(&gt;&gt;)。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>位运算符
</span></span><span style="display:flex;"><span>运算符	描述					实例
</span></span><span style="display:flex;"><span>&amp;	按位运算符&#34;&amp;&#34;是双目运算符。			(A &amp; B)结果为12，二进制位0000 1100
</span></span><span style="display:flex;"><span>	其功能是参与运算的两数各对应的二进制位与
</span></span><span style="display:flex;"><span>|	按位或运算符&#34;|&#34;是双目运算符。其功能是参与	(A|B)结果位61，二进制位0011 1101
</span></span><span style="display:flex;"><span>	的两数各对应的二进制位或
</span></span><span style="display:flex;"><span>^	按位异或运算符&#34;^&#34;是双目运算符。其功能是		(A^B)结果为49，二进制位0011 0001
</span></span><span style="display:flex;"><span>	参与运算的两数各对应的二进制位巷异或，当两
</span></span><span style="display:flex;"><span>	对应的二进制位异或时，结果位1
</span></span><span style="display:flex;"><span>&lt;&lt;	左移运算符&#34;&lt;&lt;&#34;是双目运算符。左移n位就是乘	(A&lt;&lt;2)结果为240，二进制为1111 0000
</span></span><span style="display:flex;"><span>	以2的n次方。其功能是把&#34;&lt;&lt;&#34;左边的运算数的各
</span></span><span style="display:flex;"><span>	二进制位全部左移若干位，由&#34;&lt;&lt;&#34;右边的数指定
</span></span><span style="display:flex;"><span>	移动的位数，高位舍弃，低位补0
</span></span><span style="display:flex;"><span>&gt;&gt;&gt;	右移运算符&#34;&gt;&gt;&#34;是双目运算符。右移n位就是除以2	(A&gt;&gt;2)结果位15，二进制为0000 1111
</span></span><span style="display:flex;"><span>	的n次方。其功能是把&#34;&gt;&gt;&#34;左边的运算数的各二进
</span></span><span style="display:flex;"><span>	制全部右移若干位，&#34;&gt;&gt;&#34;右边的数指定移动的位数
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1.按位与
</span></span><span style="display:flex;"><span>按位与(&amp;)：对两个数进行操作，然后返回一个新的数，这个数的每一位都需要两个输入数的同一位都为1时才为
</span></span><span style="display:flex;"><span>1.简单说就是：同一位同时为1则为1。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2.按位
</span></span><span style="display:flex;"><span>按位或(|):对两个数进行操作，然后返回一个新的数，这个数的每一位只要注意任意一个输入数的同一位位1则位1。
</span></span><span style="display:flex;"><span>简单说就是，同一位其中一个位1。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>3.按位异或
</span></span><span style="display:flex;"><span>按位异或(^)：对两个数进行操作，然后返回一个新的数，这个数的每一位只要两个输入数的同一位不同则为1，如果相同
</span></span><span style="display:flex;"><span>就为0。简单说就是，同一位不相同则位1。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>4.左移运算符(&lt;&lt;)
</span></span><span style="display:flex;"><span>按二进制形式把所有的数字向左移动对应的位数，高位移出(舍弃)，低位的空位补0.
</span></span><span style="display:flex;"><span>（1）语法格式
</span></span><span style="display:flex;"><span>需要移位的数字&lt;&lt;移位的次数
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>例如，3&lt;&lt;4，则是将数字3左移4位。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>（2）计算过程
</span></span><span style="display:flex;"><span>3&lt;&lt;4
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(3)数学意义
</span></span><span style="display:flex;"><span>在数字没有溢出的前提下，对于正数和负数，左移1位都相当于乘以2的1次方，左移n位就相当于乘以2的n次方。
</span></span></code></pre></div><h3 id="赋值运算符">赋值运算符</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>运算符	描述
</span></span><span style="display:flex;"><span>=	简单的赋值运算符，将一个表达式的值赋给一个左值
</span></span><span style="display:flex;"><span>+=	相加后再赋值
</span></span><span style="display:flex;"><span>-=	相减后再赋值
</span></span><span style="display:flex;"><span>*=	相乘后再赋值
</span></span><span style="display:flex;"><span>/=	相除后再赋值
</span></span><span style="display:flex;"><span>%=	求余后再赋值
</span></span><span style="display:flex;"><span>&lt;&lt;=	左移后再赋值
</span></span><span style="display:flex;"><span>&gt;&gt;=	右移后赋值
</span></span><span style="display:flex;"><span>&amp;=	按位与后赋值
</span></span><span style="display:flex;"><span>^=	按位异或后赋值
</span></span><span style="display:flex;"><span>|=	按位或后赋值
</span></span></code></pre></div><h3 id="指针运算符">指针运算符</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>运算符	描述	
</span></span><span style="display:flex;"><span>&amp;	返回变量存储地址	
</span></span><span style="display:flex;"><span>*	指针变量
</span></span></code></pre></div><h3 id="运算符优先级">运算符优先级</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>优先级	运算符
</span></span><span style="display:flex;"><span>7	^!
</span></span><span style="display:flex;"><span>6	*/%&lt;&lt;&gt;&gt;&amp;&amp;^
</span></span><span style="display:flex;"><span>5	+-|^
</span></span><span style="display:flex;"><span>4	==!=&lt;&lt;=&gt;=&gt;
</span></span><span style="display:flex;"><span>3	&lt;-
</span></span><span style="display:flex;"><span>2	&amp;&amp;
</span></span><span style="display:flex;"><span>1	||
</span></span></code></pre></div><h2 id="指针">指针</h2>
<blockquote>
<p>指针是存储另一个变量的内存地址的变量。</p>
</blockquote>
<blockquote>
<p>例如：变量b的值为156，存储在内存地址0x1040a124。变量a持有b的地址，则a被认为指向b。</p>
</blockquote>
<blockquote>
<p>在Go语言中使用取地址符(&amp;)来获取变量的地址，一个变量前使用&amp;，会返回该变量的内存地址。</p>
</blockquote>
<blockquote>
<p>Go语言指针的最大特点是：指针不能运算(不同于C语言)</p>
</blockquote>
<h3 id="声明指针">声明指针</h3>
<blockquote>
<p>声明指针，*T是指针变量的类型，它指向T类型的值。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>var 指针变量名 *指针类型
</span></span><span style="display:flex;"><span>*号用于指定变量是一个指针。
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ip</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span>	<span style="color:#75715e">//指向整型的指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">fp</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">float32</span> <span style="color:#75715e">//指向浮点型的指针
</span></span></span></code></pre></div><p>指针使用流程如下：</p>
<ul>
<li>定义指针变量</li>
<li>为指针变量赋值。</li>
<li>访问指针变量中指向地址的值。</li>
</ul>
<blockquote>
<p>获取指针指向的变量值：在指针类型的变量前加上<em>号，如</em>a。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#75715e">//声明实际变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#66d9ef">int</span> = <span style="color:#ae81ff">120</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//声明指针变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ip</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//给指针变量赋值，将变量a的地址赋给ip
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">ip</span> = <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">a</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//打印ip的类型和值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;ip的类型是%T，值是%v \n&#34;</span>, <span style="color:#a6e22e">ip</span>, <span style="color:#a6e22e">ip</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">//打印变量*ip的类型和值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;*ip变量的类型是%T，值是%v \n&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">ip</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">ip</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s1</span> = <span style="color:#a6e22e">Student</span>{<span style="color:#e6db74">&#34;Steven&#34;</span>, <span style="color:#ae81ff">35</span>, <span style="color:#66d9ef">true</span>, <span style="color:#ae81ff">1</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s2</span> = <span style="color:#a6e22e">Student</span>{<span style="color:#e6db74">&#34;Sunny&#34;</span>, <span style="color:#ae81ff">20</span>, <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">0</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Student</span> = <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">s1</span> <span style="color:#75715e">//将s1的内存地址赋值给Student指针变量a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">Student</span> = <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">s2</span> <span style="color:#75715e">//将s2的内存地址赋值给Student指针变量b
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s1</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">s1</span>.<span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">s1</span>.<span style="color:#a6e22e">married</span>, <span style="color:#a6e22e">s1</span>.<span style="color:#a6e22e">sex</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">married</span>, <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">sex</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s2</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">s2</span>.<span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">s2</span>.<span style="color:#a6e22e">married</span>, <span style="color:#a6e22e">s2</span>.<span style="color:#a6e22e">sex</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">married</span>, <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">sex</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>((<span style="color:#f92672">*</span><span style="color:#a6e22e">a</span>).<span style="color:#a6e22e">name</span>, (<span style="color:#f92672">*</span><span style="color:#a6e22e">a</span>).<span style="color:#a6e22e">age</span>, (<span style="color:#f92672">*</span><span style="color:#a6e22e">a</span>).<span style="color:#a6e22e">married</span>, (<span style="color:#f92672">*</span><span style="color:#a6e22e">a</span>).<span style="color:#a6e22e">sex</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>((<span style="color:#f92672">*</span><span style="color:#a6e22e">b</span>).<span style="color:#a6e22e">name</span>, (<span style="color:#f92672">*</span><span style="color:#a6e22e">b</span>).<span style="color:#a6e22e">age</span>, (<span style="color:#f92672">*</span><span style="color:#a6e22e">b</span>).<span style="color:#a6e22e">married</span>, (<span style="color:#f92672">*</span><span style="color:#a6e22e">b</span>).<span style="color:#a6e22e">sex</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">name</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">age</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">married</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">sex</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">name</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">age</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">married</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">sex</span>)
</span></span></code></pre></div><h3 id="空指针">空指针</h3>
<blockquote>
<p>当一个指针被定义后没有分配到任何变量时，它的值为nil。nil指针也成为空指针。nil在概念上和其他语言的 null、None、NULL一样，都指代零值或空值。</p>
</blockquote>
<p>假设指针变量命名为ptr。空指针判断如下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">ptr</span> <span style="color:#f92672">!=</span><span style="color:#66d9ef">nil</span>)  <span style="color:#75715e">//ptr不是空指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">ptr</span><span style="color:#f92672">==</span><span style="color:#66d9ef">nil</span>) <span style="color:#75715e">//ptr是空指针
</span></span></span></code></pre></div><h3 id="使用指针">使用指针</h3>
<p><strong>通过指针修改变量的值</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#a6e22e">b</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">3158</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">a</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">b</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span><span style="color:#a6e22e">a</span><span style="color:#f92672">++</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;b的新值：&#34;</span>, <span style="color:#a6e22e">b</span>)
</span></span></code></pre></div><h3 id="指针的指针">指针的指针</h3>
<blockquote>
<p>如果一个指针变量存放的又是另一个指针变量的地址，则称这个指针变量为指向指针的指针变量。当定义一个指向指针的指针变量
时，第一个指针存放第第二个指针的地址，第二个指针存放变量的地址。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>指向指针的指针变量声明格式如下。
</span></span><span style="display:flex;"><span>var ptr **int
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>以上指向指针的指针变量为整型。
</span></span><span style="display:flex;"><span>访问指向指针的指针变量值需要使用两个*号。
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ptr</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pptr</span> <span style="color:#f92672">**</span><span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">a</span> = <span style="color:#ae81ff">1234</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* 指针ptr地址 */</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ptr</span> = <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">a</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;ptr&#34;</span>, <span style="color:#a6e22e">ptr</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*指向指针ptr的地址*/</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pptr</span> = <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ptr</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;pptr&#34;</span>, <span style="color:#a6e22e">ptr</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*获取pptr的值*/</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;变量a=%d\n&#34;</span>, <span style="color:#a6e22e">a</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;指针变量 *ptr=%d\n&#34;</span>, <span style="color:#f92672">*</span><span style="color:#a6e22e">ptr</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;指向指针的指针变量**ptr=%d\n&#34;</span>, <span style="color:#f92672">**</span><span style="color:#a6e22e">pptr</span>)
</span></span></code></pre></div><h1 id="第二部分-提升">第二部分 提升</h1>
<h2 id="编译">编译</h2>
<pre tabindex="0"><code class="language-commandline" data-lang="commandline">go build hello.go
</code></pre><h3 id="windows编译linux可执行文件">Windows编译Linux可执行文件</h3>
<pre tabindex="0"><code class="language-commandline" data-lang="commandline">set GOARCH=amd64
set GOOS=linux
go build
</code></pre><blockquote>
<p>完成后记得设置回来set GOOS=windows</p>
</blockquote>
<p><em>注意</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>部分情况下交叉编译可能失败，原因是某些代码引用的包只能在特定操作系统上使用
</span></span></code></pre></div><blockquote>
<p>解决办法：尽量统一开发环境，提前发现问题</p>
</blockquote>
<h3 id="编译为dll文件">编译为DLL文件</h3>
<blockquote>
<p>注意函数的注释:导出的间距是特定的,在//和export文本之间不应该有空格:
好像不能加注释</p>
</blockquote>
<pre tabindex="0"><code class="language-commandline" data-lang="commandline">go build -buildmode=c-shared -o mylib.dll file.go
</code></pre><blockquote>
<p>编译后得到一个file.dll和file.h两个文件</p>
</blockquote>
<h4 id="返回字符串">返回字符串</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#75715e">//export ReturnString
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">ReturnString</span>(<span style="color:#a6e22e">val</span> <span style="color:#66d9ef">string</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">char</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">cname</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">net</span>.<span style="color:#a6e22e">LookupCNAME</span>(<span style="color:#a6e22e">val</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">CString</span>(<span style="color:#e6db74">&#34;Could not find CNAME&#34;</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">CString</span>(<span style="color:#a6e22e">cname</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="返回数值">返回数值</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#75715e">//export ReturnInt
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">ReturnInt</span>(<span style="color:#a6e22e">val</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">val</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="传入数组">传入数组</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#75715e">//export Example
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">Example</span>(<span style="color:#a6e22e">cArray</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">C</span>.<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">cSize</span> <span style="color:#a6e22e">C</span>.<span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">i</span> <span style="color:#a6e22e">C</span>.<span style="color:#66d9ef">int</span>) <span style="color:#a6e22e">C</span>.<span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">gSlice</span> <span style="color:#f92672">:=</span> (<span style="color:#f92672">*</span>[<span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">30</span>]<span style="color:#a6e22e">C</span>.<span style="color:#66d9ef">int</span>)(<span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>(<span style="color:#a6e22e">cArray</span>))[:<span style="color:#a6e22e">cSize</span>:<span style="color:#a6e22e">cSize</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">gSlice</span>[<span style="color:#a6e22e">i</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="最佳实践">最佳实践</h1>
<h2 id="日志">日志</h2>
<blockquote>
<p>通过标准包log实现。</p>
</blockquote>
<blockquote>
<p>包提供了一个预定义的“标准”Logger，可以通过辅助函数Print[f|ln]、Fatal[f|ln]和Panic[f|ln]访问。
和fmt包不同的是，日志开头会带上时间信息。</p>
</blockquote>
<blockquote>
<p>log没有提供日志级别，可以通过prefix属性区分不同等级日志，另外的方法是使用第三方日志框架。</p>
</blockquote>
<p>设置日志格式:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">SetFlags</span>(<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Llongfile</span>| <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">LstdFlags</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 字位共同控制输出日志信息的细节。不能控制输出的顺序和格式。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// 在所有项目后会有一个冒号：2009/01/23 01:23:23.123123 /a/b/c/d.go:23: message
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Ldate</span>         = <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">iota</span>     <span style="color:#75715e">// 日期：2009/01/23
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Ltime</span>                         <span style="color:#75715e">// 时间：01:23:23
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Lmicroseconds</span>                 <span style="color:#75715e">// 微秒分辨率：01:23:23.123123（用于增强Ltime位）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Llongfile</span>                     <span style="color:#75715e">// 文件全路径名+行号： /a/b/c/d.go:23
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Lshortfile</span>                    <span style="color:#75715e">// 文件无路径名+行号：d.go:23（会覆盖掉Llongfile）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">LstdFlags</span>     = <span style="color:#a6e22e">Ldate</span> | <span style="color:#a6e22e">Ltime</span> <span style="color:#75715e">// 标准logger的初始值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>)
</span></span></code></pre></div><h3 id="写入到文件">写入到文件</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#a6e22e">logFile</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">OpenFile</span>(<span style="color:#a6e22e">file</span>, <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">O_RDWR</span>|<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">O_CREATE</span>|<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">O_APPEND</span>, <span style="color:#ae81ff">0766</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>	panic(<span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger</span> = <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">New</span>(<span style="color:#a6e22e">logFile</span>, <span style="color:#e6db74">&#34;[MAIN]&#34;</span>, <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">LstdFlags</span>|<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Lshortfile</span>) <span style="color:#75715e">// 将文件设置为loger作为输出
</span></span></span></code></pre></div><h3 id="fatal和panic的区别">Fatal()和Panic()的区别</h3>
<blockquote>
<p>原文链接https://www.jianshu.com/p/f85ecae6e7df</p>
</blockquote>
<ul>
<li>Fatal()的动作
<ul>
<li>打印输出内容</li>
<li>退出应用程序</li>
<li>defer函数不会执行</li>
</ul>
</li>
<li>Panic()的动作
<ul>
<li>函数立刻停止执行 (注意是函数本身，不是应用程序停止)</li>
<li>defer函数被执行</li>
<li>返回给调用者(caller)</li>
<li>调用者函数假装也收到了一个panic函数，从而
<ul>
<li>立即停止执行当前函数</li>
<li>它defer函数被执行</li>
<li>返回给它的调用者(caller)</li>
</ul>
</li>
<li>(递归重复上述步骤，直到最上层函数)</li>
<li>应用程序停止。</li>
<li>panic的行为</li>
</ul>
</li>
</ul>
<h2 id="单元测试-1">单元测试</h2>
<blockquote>
<p>标准库testing 提供对 Go 包的自动化测试的支持。</p>
</blockquote>
<h3 id="基准测试">基准测试</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>基准测试，是一种测试代码性能的方法，比如你有多种不同的方案，都可以解决问题，那么到底是那种方案性能更好呢？这时候基准测试就派上用场了。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>基准测试主要是通过测试CPU和内存的效率问题，来评估被测试代码的性能，进而找到更好的解决方案。比如链接池的数量不是越多越好，那么哪个值才是最优值呢，
</span></span><span style="display:flex;"><span>这就需要配合基准测试不断调优了。
</span></span></code></pre></div><p><strong>不错的资料</strong>: <a href="https://www.cnblogs.com/saryli/p/11406937.html">https://www.cnblogs.com/saryli/p/11406937.html</a></p>
<h3 id="gomock">gomock</h3>
<blockquote>
<p><a href="https://gitee.com/luzhenxiong/devdoc/blob/master/%E5%90%8E%E7%AB%AF/awesome/go/gomock">https://gitee.com/luzhenxiong/devdoc/blob/master/%E5%90%8E%E7%AB%AF/awesome/go/gomock</a></p>
</blockquote>
<h1 id="常见问题">常见问题</h1>
<h2 id="执行路径问题">执行路径问题</h2>
<blockquote>
<p><a href="https://zhuanlan.zhihu.com/p/363714760">https://zhuanlan.zhihu.com/p/363714760</a></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Python很容易确定该执行文件所在目录，但Go在go run下执行和go build下执行程序，获取到的执行路径不一定一致！
</span></span></code></pre></div><h1 id="优秀源码案例学习">优秀源码案例学习</h1>
<ul>
<li>
<p>chromedp</p>
<ul>
<li>
<p>设置默认值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>chromedp/allocate.go(line53): DefaultExecAllocatorOptions
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">DefaultExecAllocatorOptions</span> = [<span style="color:#f92672">...</span>]<span style="color:#a6e22e">ExecAllocatorOption</span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">NoFirstRun</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">NoDefaultBrowserCheck</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Headless</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// After Puppeteer&#39;s default behavior.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-background-networking&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;enable-features&#34;</span>, <span style="color:#e6db74">&#34;NetworkService,NetworkServiceInProcess&#34;</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-background-timer-throttling&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-backgrounding-occluded-windows&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-breakpad&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-client-side-phishing-detection&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-default-apps&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-dev-shm-usage&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-extensions&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-features&#34;</span>, <span style="color:#e6db74">&#34;site-per-process,TranslateUI,BlinkGenPropertyTrees&#34;</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-hang-monitor&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-ipc-flooding-protection&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-popup-blocking&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-prompt-on-repost&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-renderer-backgrounding&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;disable-sync&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;force-color-profile&#34;</span>, <span style="color:#e6db74">&#34;srgb&#34;</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;metrics-recording-only&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;safebrowsing-disable-auto-update&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;enable-automation&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;password-store&#34;</span>, <span style="color:#e6db74">&#34;basic&#34;</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Flag</span>(<span style="color:#e6db74">&#34;use-mock-keychain&#34;</span>, <span style="color:#66d9ef">true</span>),
</span></span></code></pre></div></li>
</ul>
<p>}</p>
<pre tabindex="0"><code>  - 初始化默认值参数
  ```text
  chromedp/allocate.go(line37): setupExecAllocator
</code></pre><ul>
<li>修改默认值参数
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>chromedp/allocate.go(line85): NewExecAllocator的opts可选参数
</span></span></code></pre></div></li>
</ul>
</li>
</ul>

</div>


    </main>

    
      
    
  </body>
</html>
